(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function nv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $c={exports:{}},bo={},qc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function rv(){if(hp)return Se;hp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function b(V,H,ce){this.props=V,this.context=H,this.refs=$,this.updater=ce||U}b.prototype.isReactComponent={},b.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=b.prototype;function X(V,H,ce){this.props=V,this.context=H,this.refs=$,this.updater=ce||U}var oe=X.prototype=new G;oe.constructor=X,B(oe,b.prototype),oe.isPureReactComponent=!0;var he=Array.isArray,Ie=Object.prototype.hasOwnProperty,Ee={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(V,H,ce){var we,Te={},Re=null,Oe=null;if(H!=null)for(we in H.ref!==void 0&&(Oe=H.ref),H.key!==void 0&&(Re=""+H.key),H)Ie.call(H,we)&&!x.hasOwnProperty(we)&&(Te[we]=H[we]);var Me=arguments.length-2;if(Me===1)Te.children=ce;else if(1<Me){for(var Be=Array(Me),mt=0;mt<Me;mt++)Be[mt]=arguments[mt+2];Te.children=Be}if(V&&V.defaultProps)for(we in Me=V.defaultProps,Me)Te[we]===void 0&&(Te[we]=Me[we]);return{$$typeof:i,type:V,key:Re,ref:Oe,props:Te,_owner:Ee.current}}function I(V,H){return{$$typeof:i,type:V.type,key:H,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function N(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return H[ce]})}var L=/\/+/g;function C(V,H){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):H.toString(36)}function Ze(V,H,ce,we,Te){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(Re){case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=V,Te=Te(Oe),V=we===""?"."+C(Oe,0):we,he(Te)?(ce="",V!=null&&(ce=V.replace(L,"$&/")+"/"),Ze(Te,H,ce,"",function(mt){return mt})):Te!=null&&(k(Te)&&(Te=I(Te,ce+(!Te.key||Oe&&Oe.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+V)),H.push(Te)),1;if(Oe=0,we=we===""?".":we+":",he(V))for(var Me=0;Me<V.length;Me++){Re=V[Me];var Be=we+C(Re,Me);Oe+=Ze(Re,H,ce,Be,Te)}else if(Be=P(V),typeof Be=="function")for(V=Be.call(V),Me=0;!(Re=V.next()).done;)Re=Re.value,Be=we+C(Re,Me++),Oe+=Ze(Re,H,ce,Be,Te);else if(Re==="object")throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Oe}function At(V,H,ce){if(V==null)return V;var we=[],Te=0;return Ze(V,we,"","",function(Re){return H.call(ce,Re,Te++)}),we}function Pt(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var Ue={current:null},ee={transition:null},fe={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ee};function re(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:At,forEach:function(V,H,ce){At(V,function(){H.apply(this,arguments)},ce)},count:function(V){var H=0;return At(V,function(){H++}),H},toArray:function(V){return At(V,function(H){return H})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Se.Component=b,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=X,Se.StrictMode=s,Se.Suspense=y,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Se.act=re,Se.cloneElement=function(V,H,ce){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var we=B({},V.props),Te=V.key,Re=V.ref,Oe=V._owner;if(H!=null){if(H.ref!==void 0&&(Re=H.ref,Oe=Ee.current),H.key!==void 0&&(Te=""+H.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(Be in H)Ie.call(H,Be)&&!x.hasOwnProperty(Be)&&(we[Be]=H[Be]===void 0&&Me!==void 0?Me[Be]:H[Be])}var Be=arguments.length-2;if(Be===1)we.children=ce;else if(1<Be){Me=Array(Be);for(var mt=0;mt<Be;mt++)Me[mt]=arguments[mt+2];we.children=Me}return{$$typeof:i,type:V.type,key:Te,ref:Re,props:we,_owner:Oe}},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},Se.createElement=T,Se.createFactory=function(V){var H=T.bind(null,V);return H.type=V,H},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=k,Se.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Pt}},Se.memo=function(V,H){return{$$typeof:_,type:V,compare:H===void 0?null:H}},Se.startTransition=function(V){var H=ee.transition;ee.transition={};try{V()}finally{ee.transition=H}},Se.unstable_act=re,Se.useCallback=function(V,H){return Ue.current.useCallback(V,H)},Se.useContext=function(V){return Ue.current.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V){return Ue.current.useDeferredValue(V)},Se.useEffect=function(V,H){return Ue.current.useEffect(V,H)},Se.useId=function(){return Ue.current.useId()},Se.useImperativeHandle=function(V,H,ce){return Ue.current.useImperativeHandle(V,H,ce)},Se.useInsertionEffect=function(V,H){return Ue.current.useInsertionEffect(V,H)},Se.useLayoutEffect=function(V,H){return Ue.current.useLayoutEffect(V,H)},Se.useMemo=function(V,H){return Ue.current.useMemo(V,H)},Se.useReducer=function(V,H,ce){return Ue.current.useReducer(V,H,ce)},Se.useRef=function(V){return Ue.current.useRef(V)},Se.useState=function(V){return Ue.current.useState(V)},Se.useSyncExternalStore=function(V,H,ce){return Ue.current.useSyncExternalStore(V,H,ce)},Se.useTransition=function(){return Ue.current.useTransition()},Se.version="18.3.1",Se}var fp;function Dh(){return fp||(fp=1,qc.exports=rv()),qc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function iv(){if(dp)return bo;dp=1;var i=Dh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,_){var w,R={},P=null,U=null;_!==void 0&&(P=""+_),y.key!==void 0&&(P=""+y.key),y.ref!==void 0&&(U=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(R[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)R[w]===void 0&&(R[w]=y[w]);return{$$typeof:e,type:m,key:P,ref:U,props:R,_owner:a.current}}return bo.Fragment=n,bo.jsx=f,bo.jsxs=f,bo}var pp;function sv(){return pp||(pp=1,$c.exports=iv()),$c.exports}var rt=sv(),q=Dh();const Ri=nv(q);var Pl={},Hc={exports:{}},Kt={},Wc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function ov(){return mp||(mp=1,function(i){function e(ee,fe){var re=ee.length;ee.push(fe);e:for(;0<re;){var V=re-1>>>1,H=ee[V];if(0<a(H,fe))ee[V]=fe,ee[re]=H,re=V;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],re=ee.pop();if(re!==fe){ee[0]=re;e:for(var V=0,H=ee.length,ce=H>>>1;V<ce;){var we=2*(V+1)-1,Te=ee[we],Re=we+1,Oe=ee[Re];if(0>a(Te,re))Re<H&&0>a(Oe,Te)?(ee[V]=Oe,ee[Re]=re,V=Re):(ee[V]=Te,ee[we]=re,V=we);else if(Re<H&&0>a(Oe,re))ee[V]=Oe,ee[Re]=re,V=Re;else break e}}return fe}function a(ee,fe){var re=ee.sortIndex-fe.sortIndex;return re!==0?re:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],_=[],w=1,R=null,P=3,U=!1,B=!1,$=!1,b=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ee){for(var fe=n(_);fe!==null;){if(fe.callback===null)s(_);else if(fe.startTime<=ee)s(_),fe.sortIndex=fe.expirationTime,e(y,fe);else break;fe=n(_)}}function he(ee){if($=!1,oe(ee),!B)if(n(y)!==null)B=!0,Pt(Ie);else{var fe=n(_);fe!==null&&Ue(he,fe.startTime-ee)}}function Ie(ee,fe){B=!1,$&&($=!1,G(T),T=-1),U=!0;var re=P;try{for(oe(fe),R=n(y);R!==null&&(!(R.expirationTime>fe)||ee&&!N());){var V=R.callback;if(typeof V=="function"){R.callback=null,P=R.priorityLevel;var H=V(R.expirationTime<=fe);fe=i.unstable_now(),typeof H=="function"?R.callback=H:R===n(y)&&s(y),oe(fe)}else s(y);R=n(y)}if(R!==null)var ce=!0;else{var we=n(_);we!==null&&Ue(he,we.startTime-fe),ce=!1}return ce}finally{R=null,P=re,U=!1}}var Ee=!1,x=null,T=-1,I=5,k=-1;function N(){return!(i.unstable_now()-k<I)}function L(){if(x!==null){var ee=i.unstable_now();k=ee;var fe=!0;try{fe=x(!0,ee)}finally{fe?C():(Ee=!1,x=null)}}else Ee=!1}var C;if(typeof X=="function")C=function(){X(L)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,At=Ze.port2;Ze.port1.onmessage=L,C=function(){At.postMessage(null)}}else C=function(){b(L,0)};function Pt(ee){x=ee,Ee||(Ee=!0,C())}function Ue(ee,fe){T=b(function(){ee(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){B||U||(B=!0,Pt(Ie))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(ee){switch(P){case 1:case 2:case 3:var fe=3;break;default:fe=P}var re=P;P=fe;try{return ee()}finally{P=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=P;P=ee;try{return fe()}finally{P=re}},i.unstable_scheduleCallback=function(ee,fe,re){var V=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,ee={id:w++,callback:fe,priorityLevel:ee,startTime:re,expirationTime:H,sortIndex:-1},re>V?(ee.sortIndex=re,e(_,ee),n(y)===null&&ee===n(_)&&($?(G(T),T=-1):$=!0,Ue(he,re-V))):(ee.sortIndex=H,e(y,ee),B||U||(B=!0,Pt(Ie))),ee},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(ee){var fe=P;return function(){var re=P;P=fe;try{return ee.apply(this,arguments)}finally{P=re}}}}(Qc)),Qc}var gp;function av(){return gp||(gp=1,Wc.exports=ov()),Wc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function lv(){if(yp)return Kt;yp=1;var i=Dh(),e=av();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function P(t){return y.call(R,t)?!0:y.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function U(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B(t,r,o,u){if(r===null||typeof r>"u"||U(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,X);b[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,X);b[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,X);b[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function oe(t,r,o,u){var h=b.hasOwnProperty(r)?b[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(B(r,o,h,u)&&(o=null),u||h===null?P(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var he=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,V;function H(t){if(V===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||""}return`
`+V+t}var ce=!1;function we(t,r){if(!t||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var u=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){u=z}t.call(r.prototype)}else{try{throw Error()}catch(z){u=z}t()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,S=p.length-1;1<=v&&0<=S&&h[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==p[S]){var A=`
`+h[v].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=v&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?H(t):""}function Te(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Ee:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case At:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Kn(t){t._valueTracker||(t._valueTracker=mt(t))}function Vi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yr(t,r){var o=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Li(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ws(t,r){r=r.checked,r!=null&&oe(t,"checked",r,!1)}function Qs(t,r){Ws(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Oi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Oi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function da(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Oi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Yn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ks(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Fi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Gs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Ys=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){Jr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Xr[r]=Xr[t]})});function Xs(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Xr.hasOwnProperty(t)&&Xr[t]?(""+r).trim():r+"px"}function Js(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Xs(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Zs=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(t,r){if(r){if(Zs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function to(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zr=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,sn=null,xn=null;function Bi(t){if(t=Ro(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=$a(r),zi(t.stateNode,t.type,r))}}function Dn(t){sn?xn?xn.push(t):xn=[t]:sn=t}function no(){if(sn){var t=sn,r=xn;if(xn=sn=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ei(t,r){return t(r)}function ro(){}var Jn=!1;function io(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return ei(t,r,o)}finally{Jn=!1,(sn!==null||xn!==null)&&(ro(),no())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=$a(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var bi=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{bi=!1}function ti(t,r,o,u,h,p,v,S,A){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(K){this.onError(K)}}var ni=!1,ji=null,gn=!1,so=null,yu={onError:function(t){ni=!0,ji=t}};function $i(t,r,o,u,h,p,v,S,A){ni=!1,ji=null,ti.apply(yu,arguments)}function pa(t,r,o,u,h,p,v,S,A){if($i.apply(this,arguments),ni){if(ni){var z=ji;ni=!1,ji=null}else throw Error(n(198));gn||(gn=!0,so=z)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ri(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(yn(t)!==t)throw Error(n(188))}function ma(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,S=h.child;S;){if(S===o){v=!0,o=h,u=p;break}if(S===u){v=!0,u=h,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=h;break}if(S===u){v=!0,u=p,o=h;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function oo(t){return t=ma(t),t!==null?qi(t):null}function qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=qi(t);if(r!==null)return r;t=t.sibling}return null}var Hi=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,ga=e.unstable_shouldYield,vu=e.unstable_requestPaint,be=e.unstable_now,ya=e.unstable_getCurrentPriorityLevel,ii=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,lo=e.unstable_LowPriority,va=e.unstable_IdlePriority,si=null,Xt=null;function _a(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:wa,uo=Math.log,Ea=Math.LN2;function wa(t){return t>>>=0,t===0?32:31-(uo(t)/Ea|0)|0}var Wi=64,Qi=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~h;S!==0?u=vr(S):(p&=v,p!==0&&(u=vr(p)))}else v=o&~h,v!==0?u=vr(v):p!==0&&(u=vr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function _u(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Mt(p),S=1<<v,A=h[v];A===-1?(!(S&o)||S&u)&&(h[v]=_u(S,r)):A<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ai(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function _r(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ce=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ta,Ki,Sa,Ia,Ca,co=!1,Nn=[],wt=null,_n=null,En=null,Sr=new Map,an=new Map,Vn=[],Eu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(t,r){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Sr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ro(r),r!==null&&Ki(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function wu(t,r,o,u,h){switch(r){case"focusin":return wt=bt(wt,t,r,o,u,h),!0;case"dragenter":return _n=bt(_n,t,r,o,u,h),!0;case"mouseover":return En=bt(En,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Sr.set(p,bt(Sr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,bt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Aa(t){var r=fi(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=ri(o),r!==null){t.blockedOn=r,Ca(t.priority,function(){Sa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Zr=u,o.target.dispatchEvent(u),Zr=null}else return r=Ro(o),r!==null&&Ki(r),t.blockedOn=o,!1;r.shift()}return!0}function li(t,r,o){er(t)&&o.delete(r)}function Pa(){co=!1,wt!==null&&er(wt)&&(wt=null),_n!==null&&er(_n)&&(_n=null),En!==null&&er(En)&&(En=null),Sr.forEach(li),an.forEach(li)}function wn(t,r){t.blockedOn===r&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pa)))}function Tn(t){function r(h){return wn(h,t)}if(0<Nn.length){wn(Nn[0],t);for(var o=1;o<Nn.length;o++){var u=Nn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&wn(wt,t),_n!==null&&wn(_n,t),En!==null&&wn(En,t),Sr.forEach(r),an.forEach(r),o=0;o<Vn.length;o++)u=Vn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Vn.length&&(o=Vn[0],o.blockedOn===null);)Aa(o),o.blockedOn===null&&Vn.shift()}var tr=he.ReactCurrentBatchConfig,Ir=!0;function He(t,r,o,u){var h=Ce,p=tr.transition;tr.transition=null;try{Ce=1,ho(t,r,o,u)}finally{Ce=h,tr.transition=p}}function Tu(t,r,o,u){var h=Ce,p=tr.transition;tr.transition=null;try{Ce=4,ho(t,r,o,u)}finally{Ce=h,tr.transition=p}}function ho(t,r,o,u){if(Ir){var h=Gi(t,r,o,u);if(h===null)Vu(t,r,u,ui,o),Ra(t,u);else if(wu(h,t,r,o,u))u.stopPropagation();else if(Ra(t,u),r&4&&-1<Eu.indexOf(t)){for(;h!==null;){var p=Ro(h);if(p!==null&&Ta(p),p=Gi(t,r,o,u),p===null&&Vu(t,r,u,ui,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Vu(t,r,u,null,o)}}var ui=null;function Gi(t,r,o,u){if(ui=null,t=Ui(u),t=fi(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ri(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ui=t,null}function fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ya()){case ii:return 1;case yr:return 4;case on:case lo:return 16;case va:return 536870912;default:return 16}default:return 16}}var Zt=null,Yi=null,jt=null;function po(){if(jt)return jt;var t,r=Yi,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return jt=h.slice(t,1<u?1-u:void 0)}function Xi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function mo(){return!1}function Tt(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ln:mo,this.isPropagationStopped=mo,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Tt(Sn),On=re({},Sn,{view:0,detail:0}),Su=Tt(On),Zi,nr,Cr,ci=re({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Zi=t.screenX-Cr.screenX,nr=t.screenY-Cr.screenY):nr=Zi=0,Cr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),es=Tt(ci),go=re({},ci,{dataTransfer:0}),ka=Tt(go),ts=re({},On,{relatedTarget:0}),ns=Tt(ts),xa=re({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=Tt(xa),Da=re({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=Tt(Da),Va=re({},Sn,{data:0}),yo=Tt(Va),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},La={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=La[t])?!!r[t]:!1}function Mn(){return Oa}var l=re({},On,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(t){return t.type==="keypress"?Xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Tt(l),g=re({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Tt(g),O=re({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),j=Tt(O),Z=re({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=Tt(Z),ct=re({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ae=Tt(ct),gt=[9,13,27,32],st=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,hi=m&&(!st||ln&&8<ln&&11>=ln),is=" ",sf=!1;function of(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function ey(t,r){switch(t){case"compositionend":return af(r);case"keypress":return r.which!==32?null:(sf=!0,is);case"textInput":return t=r.data,t===is&&sf?null:t;default:return null}}function ty(t,r){if(ss)return t==="compositionend"||!st&&of(t,r)?(t=po(),jt=Yi=Zt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hi&&r.locale!=="ko"?null:r.data;default:return null}}var ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ny[t.type]:r==="textarea"}function uf(t,r,o,u){Dn(u),r=Ba(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var vo=null,_o=null;function ry(t){Af(t,0)}function Ma(t){var r=cs(t);if(Vi(r))return t}function iy(t,r){if(t==="change")return r}var cf=!1;if(m){var Iu;if(m){var Cu="oninput"in document;if(!Cu){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Cu=typeof hf.oninput=="function"}Iu=Cu}else Iu=!1;cf=Iu&&(!document.documentMode||9<document.documentMode)}function ff(){vo&&(vo.detachEvent("onpropertychange",df),_o=vo=null)}function df(t){if(t.propertyName==="value"&&Ma(_o)){var r=[];uf(r,_o,t,Ui(t)),io(ry,r)}}function sy(t,r,o){t==="focusin"?(ff(),vo=r,_o=o,vo.attachEvent("onpropertychange",df)):t==="focusout"&&ff()}function oy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ma(_o)}function ay(t,r){if(t==="click")return Ma(r)}function ly(t,r){if(t==="input"||t==="change")return Ma(r)}function uy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:uy;function Eo(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!In(t[h],r[h]))return!1}return!0}function pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mf(t,r){var o=pf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=pf(o)}}function gf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?gf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function yf(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function Ru(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function cy(t){var r=yf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&gf(o.ownerDocument.documentElement,o)){if(u!==null&&Ru(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=mf(o,p);var v=mf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hy=m&&"documentMode"in document&&11>=document.documentMode,os=null,Au=null,wo=null,Pu=!1;function vf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pu||os==null||os!==mr(u)||(u=os,"selectionStart"in u&&Ru(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wo&&Eo(wo,u)||(wo=u,u=Ba(Au,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function Fa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},ku={},_f={};m&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Ua(t){if(ku[t])return ku[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in _f)return ku[t]=r[o];return t}var Ef=Ua("animationend"),wf=Ua("animationiteration"),Tf=Ua("animationstart"),Sf=Ua("transitionend"),If=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,r){If.set(t,r),c(r,[t])}for(var xu=0;xu<Cf.length;xu++){var Du=Cf[xu],fy=Du.toLowerCase(),dy=Du[0].toUpperCase()+Du.slice(1);Rr(fy,"on"+dy)}Rr(Ef,"onAnimationEnd"),Rr(wf,"onAnimationIteration"),Rr(Tf,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Sf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),py=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Rf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,pa(u,r,void 0,t),t.currentTarget=null}function Af(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],A=S.instance,z=S.currentTarget;if(S=S.listener,A!==p&&h.isPropagationStopped())break e;Rf(h,S,z),p=A}else for(v=0;v<u.length;v++){if(S=u[v],A=S.instance,z=S.currentTarget,S=S.listener,A!==p&&h.isPropagationStopped())break e;Rf(h,S,z),p=A}}}if(gn)throw t=so,gn=!1,so=null,t}function $e(t,r){var o=r[zu];o===void 0&&(o=r[zu]=new Set);var u=t+"__bubble";o.has(u)||(Pf(r,t,2,!1),o.add(u))}function Nu(t,r,o){var u=0;r&&(u|=4),Pf(o,t,u,r)}var za="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[za]){t[za]=!0,s.forEach(function(o){o!=="selectionchange"&&(py.has(o)||Nu(o,!1,t),Nu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[za]||(r[za]=!0,Nu("selectionchange",!1,r))}}function Pf(t,r,o,u){switch(fo(r)){case 1:var h=He;break;case 4:h=Tu;break;default:h=ho}o=h.bind(null,r,o,t),h=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Vu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var A=v.tag;if((A===3||A===4)&&(A=v.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;v=v.return}for(;S!==null;){if(v=fi(S),v===null)return;if(A=v.tag,A===5||A===6){u=p=v;continue e}S=S.parentNode}}u=u.return}io(function(){var z=p,K=Ui(o),Y=[];e:{var Q=If.get(t);if(Q!==void 0){var ne=Ji,ae=t;switch(t){case"keypress":if(Xi(o)===0)break e;case"keydown":case"keyup":ne=d;break;case"focusin":ae="focus",ne=ns;break;case"focusout":ae="blur",ne=ns;break;case"beforeblur":case"afterblur":ne=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=j;break;case Ef:case wf:case Tf:ne=rr;break;case Sf:ne=Fe;break;case"scroll":ne=Su;break;case"wheel":ne=Ae;break;case"copy":case"cut":case"paste":ne=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=E}var le=(r&4)!==0,tt=!le&&t==="scroll",M=le?Q!==null?Q+"Capture":null:Q;le=[];for(var D=z,F;D!==null;){F=D;var J=F.stateNode;if(F.tag===5&&J!==null&&(F=J,M!==null&&(J=et(D,M),J!=null&&le.push(Io(D,J,F)))),tt)break;D=D.return}0<le.length&&(Q=new ne(Q,ae,null,o,K),Y.push({event:Q,listeners:le}))}}if(!(r&7)){e:{if(Q=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",Q&&o!==Zr&&(ae=o.relatedTarget||o.fromElement)&&(fi(ae)||ae[ir]))break e;if((ne||Q)&&(Q=K.window===K?K:(Q=K.ownerDocument)?Q.defaultView||Q.parentWindow:window,ne?(ae=o.relatedTarget||o.toElement,ne=z,ae=ae?fi(ae):null,ae!==null&&(tt=yn(ae),ae!==tt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=z),ne!==ae)){if(le=es,J="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,J="onPointerLeave",M="onPointerEnter",D="pointer"),tt=ne==null?Q:cs(ne),F=ae==null?Q:cs(ae),Q=new le(J,D+"leave",ne,o,K),Q.target=tt,Q.relatedTarget=F,J=null,fi(K)===z&&(le=new le(M,D+"enter",ae,o,K),le.target=F,le.relatedTarget=tt,J=le),tt=J,ne&&ae)t:{for(le=ne,M=ae,D=0,F=le;F;F=ls(F))D++;for(F=0,J=M;J;J=ls(J))F++;for(;0<D-F;)le=ls(le),D--;for(;0<F-D;)M=ls(M),F--;for(;D--;){if(le===M||M!==null&&le===M.alternate)break t;le=ls(le),M=ls(M)}le=null}else le=null;ne!==null&&kf(Y,Q,ne,le,!1),ae!==null&&tt!==null&&kf(Y,tt,ae,le,!0)}}e:{if(Q=z?cs(z):window,ne=Q.nodeName&&Q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Q.type==="file")var ue=iy;else if(lf(Q))if(cf)ue=ly;else{ue=oy;var de=sy}else(ne=Q.nodeName)&&ne.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ue=ay);if(ue&&(ue=ue(t,z))){uf(Y,ue,o,K);break e}de&&de(t,Q,z),t==="focusout"&&(de=Q._wrapperState)&&de.controlled&&Q.type==="number"&&Oi(Q,"number",Q.value)}switch(de=z?cs(z):window,t){case"focusin":(lf(de)||de.contentEditable==="true")&&(os=de,Au=z,wo=null);break;case"focusout":wo=Au=os=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,vf(Y,o,K);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":vf(Y,o,K)}var pe;if(st)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ss?of(t,o)&&(ye="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(hi&&o.locale!=="ko"&&(ss||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ss&&(pe=po()):(Zt=K,Yi="value"in Zt?Zt.value:Zt.textContent,ss=!0)),de=Ba(z,ye),0<de.length&&(ye=new yo(ye,t,null,o,K),Y.push({event:ye,listeners:de}),pe?ye.data=pe:(pe=af(o),pe!==null&&(ye.data=pe)))),(pe=en?ey(t,o):ty(t,o))&&(z=Ba(z,"onBeforeInput"),0<z.length&&(K=new yo("onBeforeInput","beforeinput",null,o,K),Y.push({event:K,listeners:z}),K.data=pe))}Af(Y,r)})}function Io(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ba(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(Io(t,p,h)),p=et(t,r),p!=null&&u.push(Io(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var S=o,A=S.alternate,z=S.stateNode;if(A!==null&&A===u)break;S.tag===5&&z!==null&&(S=z,h?(A=et(o,p),A!=null&&v.unshift(Io(o,A,S))):h||(A=et(o,p),A!=null&&v.push(Io(o,A,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var my=/\r\n?/g,gy=/\u0000|\uFFFD/g;function xf(t){return(typeof t=="string"?t:""+t).replace(my,`
`).replace(gy,"")}function ba(t,r,o){if(r=xf(r),xf(t)!==r&&o)throw Error(n(425))}function ja(){}var Lu=null,Ou=null;function Mu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,yy=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(t){return Df.resolve(null).then(t).catch(_y)}:Fu;function _y(t){setTimeout(function(){throw t})}function Uu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function Ar(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Nf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Fn="__reactFiber$"+us,Co="__reactProps$"+us,ir="__reactContainer$"+us,zu="__reactEvents$"+us,Ey="__reactListeners$"+us,wy="__reactHandles$"+us;function fi(t){var r=t[Fn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[Fn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Nf(t);t!==null;){if(o=t[Fn])return o;t=Nf(t)}return r}t=o,o=t.parentNode}return null}function Ro(t){return t=t[Fn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function $a(t){return t[Co]||null}var Bu=[],hs=-1;function Pr(t){return{current:t}}function qe(t){0>hs||(t.current=Bu[hs],Bu[hs]=null,hs--)}function je(t,r){hs++,Bu[hs]=t.current,t.current=r}var kr={},kt=Pr(kr),$t=Pr(!1),di=kr;function fs(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function qa(){qe($t),qe(kt)}function Vf(t,r,o){if(kt.current!==kr)throw Error(n(168));je(kt,r),je($t,o)}function Lf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return re({},o,u)}function Ha(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,di=kt.current,je(kt,t),je($t,$t.current),!0}function Of(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Lf(t,r,di),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(kt),je(kt,t)):qe($t),je($t,o)}var sr=null,Wa=!1,bu=!1;function Mf(t){sr===null?sr=[t]:sr.push(t)}function Ty(t){Wa=!0,Mf(t)}function xr(){if(!bu&&sr!==null){bu=!0;var t=0,r=Ce;try{var o=sr;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,Wa=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),Hi(ii,xr),h}finally{Ce=r,bu=!1}}return null}var ds=[],ps=0,Qa=null,Ka=0,un=[],cn=0,pi=null,or=1,ar="";function mi(t,r){ds[ps++]=Ka,ds[ps++]=Qa,Qa=t,Ka=r}function Ff(t,r,o){un[cn++]=or,un[cn++]=ar,un[cn++]=pi,pi=t;var u=or;t=ar;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,or=1<<32-Mt(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function ju(t){t.return!==null&&(mi(t,1),Ff(t,1,0))}function $u(t){for(;t===Qa;)Qa=ds[--ps],ds[ps]=null,Ka=ds[--ps],ds[ps]=null;for(;t===pi;)pi=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null}var tn=null,nn=null,We=!1,Cn=null;function Uf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function zf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Ar(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=pi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hu(t){if(We){var r=nn;if(r){var o=r;if(!zf(t,r)){if(qu(t))throw Error(n(418));r=Ar(o.nextSibling);var u=tn;r&&zf(t,r)?Uf(u,o):(t.flags=t.flags&-4097|2,We=!1,tn=t)}}else{if(qu(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,tn=t}}}function Bf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ga(t){if(t!==tn)return!1;if(!We)return Bf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Mu(t.type,t.memoizedProps)),r&&(r=nn)){if(qu(t))throw bf(),Error(n(418));for(;r;)Uf(t,r),r=Ar(r.nextSibling)}if(Bf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Ar(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Ar(t.stateNode.nextSibling):null;return!0}function bf(){for(var t=nn;t;)t=Ar(t.nextSibling)}function ms(){nn=tn=null,We=!1}function Wu(t){Cn===null?Cn=[t]:Cn.push(t)}var Sy=he.ReactCurrentBatchConfig;function Ao(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=h.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ya(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function jf(t){var r=t._init;return r(t._payload)}function $f(t){function r(M,D){if(t){var F=M.deletions;F===null?(M.deletions=[D],M.flags|=16):F.push(D)}}function o(M,D){if(!t)return null;for(;D!==null;)r(M,D),D=D.sibling;return null}function u(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function h(M,D){return M=Ur(M,D),M.index=0,M.sibling=null,M}function p(M,D,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<D?(M.flags|=2,D):F):(M.flags|=2,D)):(M.flags|=1048576,D)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function S(M,D,F,J){return D===null||D.tag!==6?(D=Fc(F,M.mode,J),D.return=M,D):(D=h(D,F),D.return=M,D)}function A(M,D,F,J){var ue=F.type;return ue===x?K(M,D,F.props.children,J,F.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Pt&&jf(ue)===D.type)?(J=h(D,F.props),J.ref=Ao(M,D,F),J.return=M,J):(J=El(F.type,F.key,F.props,null,M.mode,J),J.ref=Ao(M,D,F),J.return=M,J)}function z(M,D,F,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Uc(F,M.mode,J),D.return=M,D):(D=h(D,F.children||[]),D.return=M,D)}function K(M,D,F,J,ue){return D===null||D.tag!==7?(D=Si(F,M.mode,J,ue),D.return=M,D):(D=h(D,F),D.return=M,D)}function Y(M,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Fc(""+D,M.mode,F),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ie:return F=El(D.type,D.key,D.props,null,M.mode,F),F.ref=Ao(M,null,D),F.return=M,F;case Ee:return D=Uc(D,M.mode,F),D.return=M,D;case Pt:var J=D._init;return Y(M,J(D._payload),F)}if(Gn(D)||fe(D))return D=Si(D,M.mode,F,null),D.return=M,D;Ya(M,D)}return null}function Q(M,D,F,J){var ue=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:S(M,D,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ie:return F.key===ue?A(M,D,F,J):null;case Ee:return F.key===ue?z(M,D,F,J):null;case Pt:return ue=F._init,Q(M,D,ue(F._payload),J)}if(Gn(F)||fe(F))return ue!==null?null:K(M,D,F,J,null);Ya(M,F)}return null}function ne(M,D,F,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(F)||null,S(D,M,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Ie:return M=M.get(J.key===null?F:J.key)||null,A(D,M,J,ue);case Ee:return M=M.get(J.key===null?F:J.key)||null,z(D,M,J,ue);case Pt:var de=J._init;return ne(M,D,F,de(J._payload),ue)}if(Gn(J)||fe(J))return M=M.get(F)||null,K(D,M,J,ue,null);Ya(D,J)}return null}function ae(M,D,F,J){for(var ue=null,de=null,pe=D,ye=D=0,_t=null;pe!==null&&ye<F.length;ye++){pe.index>ye?(_t=pe,pe=null):_t=pe.sibling;var Le=Q(M,pe,F[ye],J);if(Le===null){pe===null&&(pe=_t);break}t&&pe&&Le.alternate===null&&r(M,pe),D=p(Le,D,ye),de===null?ue=Le:de.sibling=Le,de=Le,pe=_t}if(ye===F.length)return o(M,pe),We&&mi(M,ye),ue;if(pe===null){for(;ye<F.length;ye++)pe=Y(M,F[ye],J),pe!==null&&(D=p(pe,D,ye),de===null?ue=pe:de.sibling=pe,de=pe);return We&&mi(M,ye),ue}for(pe=u(M,pe);ye<F.length;ye++)_t=ne(pe,M,ye,F[ye],J),_t!==null&&(t&&_t.alternate!==null&&pe.delete(_t.key===null?ye:_t.key),D=p(_t,D,ye),de===null?ue=_t:de.sibling=_t,de=_t);return t&&pe.forEach(function(zr){return r(M,zr)}),We&&mi(M,ye),ue}function le(M,D,F,J){var ue=fe(F);if(typeof ue!="function")throw Error(n(150));if(F=ue.call(F),F==null)throw Error(n(151));for(var de=ue=null,pe=D,ye=D=0,_t=null,Le=F.next();pe!==null&&!Le.done;ye++,Le=F.next()){pe.index>ye?(_t=pe,pe=null):_t=pe.sibling;var zr=Q(M,pe,Le.value,J);if(zr===null){pe===null&&(pe=_t);break}t&&pe&&zr.alternate===null&&r(M,pe),D=p(zr,D,ye),de===null?ue=zr:de.sibling=zr,de=zr,pe=_t}if(Le.done)return o(M,pe),We&&mi(M,ye),ue;if(pe===null){for(;!Le.done;ye++,Le=F.next())Le=Y(M,Le.value,J),Le!==null&&(D=p(Le,D,ye),de===null?ue=Le:de.sibling=Le,de=Le);return We&&mi(M,ye),ue}for(pe=u(M,pe);!Le.done;ye++,Le=F.next())Le=ne(pe,M,ye,Le.value,J),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?ye:Le.key),D=p(Le,D,ye),de===null?ue=Le:de.sibling=Le,de=Le);return t&&pe.forEach(function(tv){return r(M,tv)}),We&&mi(M,ye),ue}function tt(M,D,F,J){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ie:e:{for(var ue=F.key,de=D;de!==null;){if(de.key===ue){if(ue=F.type,ue===x){if(de.tag===7){o(M,de.sibling),D=h(de,F.props.children),D.return=M,M=D;break e}}else if(de.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Pt&&jf(ue)===de.type){o(M,de.sibling),D=h(de,F.props),D.ref=Ao(M,de,F),D.return=M,M=D;break e}o(M,de);break}else r(M,de);de=de.sibling}F.type===x?(D=Si(F.props.children,M.mode,J,F.key),D.return=M,M=D):(J=El(F.type,F.key,F.props,null,M.mode,J),J.ref=Ao(M,D,F),J.return=M,M=J)}return v(M);case Ee:e:{for(de=F.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){o(M,D.sibling),D=h(D,F.children||[]),D.return=M,M=D;break e}else{o(M,D);break}else r(M,D);D=D.sibling}D=Uc(F,M.mode,J),D.return=M,M=D}return v(M);case Pt:return de=F._init,tt(M,D,de(F._payload),J)}if(Gn(F))return ae(M,D,F,J);if(fe(F))return le(M,D,F,J);Ya(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(o(M,D.sibling),D=h(D,F),D.return=M,M=D):(o(M,D),D=Fc(F,M.mode,J),D.return=M,M=D),v(M)):o(M,D)}return tt}var gs=$f(!0),qf=$f(!1),Xa=Pr(null),Ja=null,ys=null,Qu=null;function Ku(){Qu=ys=Ja=null}function Gu(t){var r=Xa.current;qe(Xa),t._currentValue=r}function Yu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function vs(t,r){Ja=t,Qu=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ht=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(Qu!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if(Ja===null)throw Error(n(308));ys=t,Ja.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var gi=null;function Xu(t){gi===null?gi=[t]:gi.push(t)}function Hf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Xu(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Ju(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Nr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ne&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,Xu(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function Za(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function Qf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function el(t,r,o,u){var h=t.updateQueue;Dr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var A=S,z=A.next;A.next=null,v===null?p=z:v.next=z,v=A;var K=t.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==v&&(S===null?K.firstBaseUpdate=z:S.next=z,K.lastBaseUpdate=A))}if(p!==null){var Y=h.baseState;v=0,K=z=A=null,S=p;do{var Q=S.lane,ne=S.eventTime;if((u&Q)===Q){K!==null&&(K=K.next={eventTime:ne,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(Q=r,ne=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(ne,Y,Q);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,Q=typeof ae=="function"?ae.call(ne,Y,Q):ae,Q==null)break e;Y=re({},Y,Q);break e;case 2:Dr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,Q=h.effects,Q===null?h.effects=[S]:Q.push(S))}else ne={eventTime:ne,lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(z=K=ne,A=Y):K=K.next=ne,v|=Q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);if(K===null&&(A=Y),h.baseState=A,h.firstBaseUpdate=z,h.lastBaseUpdate=K,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);_i|=v,t.lanes=v,t.memoizedState=Y}}function Kf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Po={},Un=Pr(Po),ko=Pr(Po),xo=Pr(Po);function yi(t){if(t===Po)throw Error(n(174));return t}function Zu(t,r){switch(je(xo,r),je(ko,t),je(Un,Po),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}qe(Un),je(Un,r)}function _s(){qe(Un),qe(ko),qe(xo)}function Gf(t){yi(xo.current);var r=yi(Un.current),o=ut(r,t.type);r!==o&&(je(ko,t),je(Un,o))}function ec(t){ko.current===t&&(qe(Un),qe(ko))}var Qe=Pr(0);function tl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tc=[];function nc(){for(var t=0;t<tc.length;t++)tc[t]._workInProgressVersionPrimary=null;tc.length=0}var nl=he.ReactCurrentDispatcher,rc=he.ReactCurrentBatchConfig,vi=0,Ke=null,ht=null,yt=null,rl=!1,Do=!1,No=0,Iy=0;function xt(){throw Error(n(321))}function ic(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!In(t[o],r[o]))return!1;return!0}function sc(t,r,o,u,h,p){if(vi=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,nl.current=t===null||t.memoizedState===null?Py:ky,t=o(u,h),Do){p=0;do{if(Do=!1,No=0,25<=p)throw Error(n(301));p+=1,yt=ht=null,r.updateQueue=null,nl.current=xy,t=o(u,h)}while(Do)}if(nl.current=ol,r=ht!==null&&ht.next!==null,vi=0,yt=ht=Ke=null,rl=!1,r)throw Error(n(300));return t}function oc(){var t=No!==0;return No=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ke.memoizedState=yt=t:yt=yt.next=t,yt}function fn(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=yt===null?Ke.memoizedState:yt.next;if(r!==null)yt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ke.memoizedState=yt=t:yt=yt.next=t}return yt}function Vo(t,r){return typeof r=="function"?r(t):r}function ac(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=v=null,A=null,z=p;do{var K=z.lane;if((vi&K)===K)A!==null&&(A=A.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:t(u,z.action);else{var Y={lane:K,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};A===null?(S=A=Y,v=u):A=A.next=Y,Ke.lanes|=K,_i|=K}z=z.next}while(z!==null&&z!==p);A===null?v=u:A.next=S,In(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=A,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,_i|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function lc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);In(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Yf(){}function Xf(t,r){var o=Ke,u=fn(),h=r(),p=!In(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,uc(ed.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Lo(9,Zf.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));vi&30||Jf(o,r,h)}return h}function Jf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Zf(t,r,o,u){r.value=o,r.getSnapshot=u,td(r)&&nd(t)}function ed(t,r,o){return o(function(){td(r)&&nd(t)})}function td(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!In(t,o)}catch{return!0}}function nd(t){var r=lr(t,1);r!==null&&kn(r,t,1,-1)}function rd(t){var r=zn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},r.queue=t,t=t.dispatch=Ay.bind(null,Ke,t),[r.memoizedState,t]}function Lo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function id(){return fn().memoizedState}function il(t,r,o,u){var h=zn();Ke.flags|=t,h.memoizedState=Lo(1|r,o,void 0,u===void 0?null:u)}function sl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var v=ht.memoizedState;if(p=v.destroy,u!==null&&ic(u,v.deps)){h.memoizedState=Lo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Lo(1|r,o,p,u)}function sd(t,r){return il(8390656,8,t,r)}function uc(t,r){return sl(2048,8,t,r)}function od(t,r){return sl(4,2,t,r)}function ad(t,r){return sl(4,4,t,r)}function ld(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ud(t,r,o){return o=o!=null?o.concat([t]):null,sl(4,4,ld.bind(null,r,t),o)}function cc(){}function cd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ic(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function hd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ic(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function fd(t,r,o){return vi&21?(In(o,r)||(o=ai(),Ke.lanes|=o,_i|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o)}function Cy(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=rc.transition;rc.transition={};try{t(!1),r()}finally{Ce=o,rc.transition=u}}function dd(){return fn().memoizedState}function Ry(t,r,o){var u=Mr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},pd(t))md(r,o);else if(o=Hf(t,r,o,u),o!==null){var h=zt();kn(o,t,u,h),gd(o,r,u)}}function Ay(t,r,o){var u=Mr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(pd(t))md(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(h.hasEagerState=!0,h.eagerState=S,In(S,v)){var A=r.interleaved;A===null?(h.next=h,Xu(r)):(h.next=A.next,A.next=h),r.interleaved=h;return}}catch{}finally{}o=Hf(t,r,h,u),o!==null&&(h=zt(),kn(o,t,u,h),gd(o,r,u))}}function pd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function md(t,r){Do=rl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function gd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var ol={readContext:hn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Py={readContext:hn,useCallback:function(t,r){return zn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:sd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,il(4194308,4,ld.bind(null,r,t),o)},useLayoutEffect:function(t,r){return il(4194308,4,t,r)},useInsertionEffect:function(t,r){return il(4,2,t,r)},useMemo:function(t,r){var o=zn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=zn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Ry.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=zn();return t={current:t},r.memoizedState=t},useState:rd,useDebugValue:cc,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=rd(!1),r=t[0];return t=Cy.bind(null,t[1]),zn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=zn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));vi&30||Jf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,sd(ed.bind(null,u,p,t),[t]),u.flags|=2048,Lo(9,Zf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=zn(),r=vt.identifierPrefix;if(We){var o=ar,u=or;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=No++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Iy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},ky={readContext:hn,useCallback:cd,useContext:hn,useEffect:uc,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:ad,useMemo:hd,useReducer:ac,useRef:id,useState:function(){return ac(Vo)},useDebugValue:cc,useDeferredValue:function(t){var r=fn();return fd(r,ht.memoizedState,t)},useTransition:function(){var t=ac(Vo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Yf,useSyncExternalStore:Xf,useId:dd,unstable_isNewReconciler:!1},xy={readContext:hn,useCallback:cd,useContext:hn,useEffect:uc,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:ad,useMemo:hd,useReducer:lc,useRef:id,useState:function(){return lc(Vo)},useDebugValue:cc,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:fd(r,ht.memoizedState,t)},useTransition:function(){var t=lc(Vo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Yf,useSyncExternalStore:Xf,useId:dd,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=re({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function hc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:re({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var al={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Mr(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(kn(r,t,h,u),Za(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Mr(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(kn(r,t,h,u),Za(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Mr(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Nr(t,h,u),r!==null&&(kn(r,t,u,o),Za(r,t,u))}};function yd(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Eo(o,u)||!Eo(h,p):!0}function vd(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=qt(r)?di:kt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=al,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function _d(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&al.enqueueReplaceState(r,r.state,null)}function fc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Ju(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=qt(r)?di:kt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(hc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&al.enqueueReplaceState(h,h.state,null),el(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=Te(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function dc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function pc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Dy=typeof WeakMap=="function"?WeakMap:Map;function Ed(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){pl||(pl=!0,kc=u),pc(t,r)},o}function wd(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){pc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){pc(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Td(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Dy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Hy.bind(null,t,r,o),r.then(t,t))}function Sd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Id(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Nr(o,r,1))),o.lanes|=1),t)}var Ny=he.ReactCurrentOwner,Ht=!1;function Ut(t,r,o,u){r.child=t===null?qf(r,null,o,u):gs(r,t.child,o,u)}function Cd(t,r,o,u,h){o=o.render;var p=r.ref;return vs(r,h),u=sc(t,r,o,u,p,h),o=oc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(We&&o&&ju(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Rd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Mc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Ad(t,r,p,u,h)):(t=El(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Eo,o(v,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function Ad(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Eo(p,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Ht=!0);else return r.lanes=t.lanes,cr(t,r,h)}return mc(t,r,o,u,h)}function Pd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ts,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(Ts,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,je(Ts,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,je(Ts,rn),rn|=u;return Ut(t,r,h,o),r.child}function kd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function mc(t,r,o,u,h){var p=qt(o)?di:kt.current;return p=fs(r,p),vs(r,h),o=sc(t,r,o,u,p,h),u=oc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(We&&u&&ju(r),r.flags|=1,Ut(t,r,o,h),r.child)}function xd(t,r,o,u,h){if(qt(o)){var p=!0;Ha(r)}else p=!1;if(vs(r,h),r.stateNode===null)ul(t,r),vd(r,o,u),fc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var A=v.context,z=o.contextType;typeof z=="object"&&z!==null?z=hn(z):(z=qt(o)?di:kt.current,z=fs(r,z));var K=o.getDerivedStateFromProps,Y=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||A!==z)&&_d(r,v,u,z),Dr=!1;var Q=r.memoizedState;v.state=Q,el(r,u,v,h),A=r.memoizedState,S!==u||Q!==A||$t.current||Dr?(typeof K=="function"&&(hc(r,o,K,u),A=r.memoizedState),(S=Dr||yd(r,o,S,u,Q,A,z))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=A),v.props=u,v.state=A,v.context=z,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Wf(t,r),S=r.memoizedProps,z=r.type===r.elementType?S:Rn(r.type,S),v.props=z,Y=r.pendingProps,Q=v.context,A=o.contextType,typeof A=="object"&&A!==null?A=hn(A):(A=qt(o)?di:kt.current,A=fs(r,A));var ne=o.getDerivedStateFromProps;(K=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||Q!==A)&&_d(r,v,u,A),Dr=!1,Q=r.memoizedState,v.state=Q,el(r,u,v,h);var ae=r.memoizedState;S!==Y||Q!==ae||$t.current||Dr?(typeof ne=="function"&&(hc(r,o,ne,u),ae=r.memoizedState),(z=Dr||yd(r,o,z,u,Q,ae,A)||!1)?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,A)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),v.props=u,v.state=ae,v.context=A,u=z):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),u=!1)}return gc(t,r,o,u,p,h)}function gc(t,r,o,u,h,p){kd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Of(r,o,!1),cr(t,r,p);u=r.stateNode,Ny.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,S,p)):Ut(t,r,S,p),r.memoizedState=u.state,h&&Of(r,o,!0),r.child}function Dd(t){var r=t.stateNode;r.pendingContext?Vf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Vf(t,r.context,!1),Zu(t,r.containerInfo)}function Nd(t,r,o,u,h){return ms(),Wu(h),r.flags|=256,Ut(t,r,o,u),r.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vd(t,r,o){var u=r.pendingProps,h=Qe.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(Qe,h&1),t===null)return Hu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=wl(v,u,0,null),t=Si(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=vc(o),r.memoizedState=yc,t):_c(r,v));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return Vy(t,r,v,u,S,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,S=h.sibling;var A={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=A,r.deletions=null):(u=Ur(h,A),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=Ur(S,p):(p=Si(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?vc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=yc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function _c(t,r){return r=wl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ll(t,r,o,u){return u!==null&&Wu(u),gs(r,t.child,null,o),t=_c(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vy(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=dc(Error(n(422))),ll(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=wl({mode:"visible",children:u.children},h,0,null),p=Si(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&gs(r,t.child,null,v),r.child.memoizedState=vc(v),r.memoizedState=yc,p);if(!(r.mode&1))return ll(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=dc(p,u,void 0),ll(t,r,v,u)}if(S=(v&t.childLanes)!==0,Ht||S){if(u=vt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),kn(u,t,h,-1))}return Oc(),u=dc(Error(n(421))),ll(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Wy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Ar(h.nextSibling),tn=r,We=!0,Cn=null,t!==null&&(un[cn++]=or,un[cn++]=ar,un[cn++]=pi,or=t.id,ar=t.overflow,pi=r),r=_c(r,u.children),r.flags|=4096,r)}function Ld(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Yu(t.return,r,o)}function Ec(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Od(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Qe.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ld(t,o,r);else if(t.tag===19)Ld(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(Qe,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&tl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ec(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&tl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ec(r,!0,o,null,p);break;case"together":Ec(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ul(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),_i|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Ly(t,r,o){switch(r.tag){case 3:Dd(r),ms();break;case 5:Gf(r);break;case 1:qt(r.type)&&Ha(r);break;case 4:Zu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;je(Xa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(je(Qe,Qe.current&1),r.flags|=128,null):o&r.child.childLanes?Vd(t,r,o):(je(Qe,Qe.current&1),t=cr(t,r,o),t!==null?t.sibling:null);je(Qe,Qe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Od(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Qe,Qe.current),u)break;return null;case 22:case 23:return r.lanes=0,Pd(t,r,o)}return cr(t,r,o)}var Md,wc,Fd,Ud;Md=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},wc=function(){},Fd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,yi(Un.current);var p=null;switch(o){case"input":h=Yr(t,h),u=Yr(t,u),p=[];break;case"select":h=re({},h,{value:void 0}),u=re({},u,{value:void 0}),p=[];break;case"textarea":h=Ks(t,h),u=Ks(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ja)}eo(o,u);var v;o=null;for(z in h)if(!u.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var S=h[z];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in u){var A=u[z];if(S=h!=null?h[z]:void 0,u.hasOwnProperty(z)&&A!==S&&(A!=null||S!=null))if(z==="style")if(S){for(v in S)!S.hasOwnProperty(v)||A&&A.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in A)A.hasOwnProperty(v)&&S[v]!==A[v]&&(o||(o={}),o[v]=A[v])}else o||(p||(p=[]),p.push(z,o)),o=A;else z==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(p=p||[]).push(z,A)):z==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(z,""+A):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(A!=null&&z==="onScroll"&&$e("scroll",t),p||S===A||(p=[])):(p=p||[]).push(z,A))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Ud=function(t,r,o,u){o!==u&&(r.flags|=4)};function Oo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Oy(t,r,o){var u=r.pendingProps;switch($u(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return qt(r.type)&&qa(),Dt(r),null;case 3:return u=r.stateNode,_s(),qe($t),qe(kt),nc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ga(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Nc(Cn),Cn=null))),wc(t,r),Dt(r),null;case 5:ec(r);var h=yi(xo.current);if(o=r.type,t!==null&&r.stateNode!=null)Fd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=yi(Un.current),Ga(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Fn]=r,u[Co]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<To.length;h++)$e(To[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Li(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Mi(u,p),$e("invalid",u)}eo(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&ba(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&ba(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&$e("scroll",u)}switch(o){case"input":Kn(u),da(u,p,!0);break;case"textarea":Kn(u),Gs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=ja)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Fn]=r,t[Co]=u,Md(t,r,!1,!1),r.stateNode=t;e:{switch(v=to(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<To.length;h++)$e(To[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Li(t,u),h=Yr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=re({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Mi(t,u),h=Ks(t,u),$e("invalid",t);break;default:h=u}eo(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var A=S[p];p==="style"?Js(t,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ys(t,A)):p==="children"?typeof A=="string"?(o!=="textarea"||A!=="")&&gr(t,A):typeof A=="number"&&gr(t,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?A!=null&&p==="onScroll"&&$e("scroll",t):A!=null&&oe(t,p,A,v))}switch(o){case"input":Kn(t),da(t,u,!1);break;case"textarea":Kn(t),Gs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Yn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Yn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=ja)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Ud(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=yi(xo.current),yi(Un.current),Ga(r)){if(u=r.stateNode,o=r.memoizedProps,u[Fn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:ba(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ba(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Fn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Qe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&nn!==null&&r.mode&1&&!(r.flags&128))bf(),ms(),r.flags|=98560,p=!1;else if(p=Ga(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Fn]=r}else ms(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Cn!==null&&(Nc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Qe.current&1?ft===0&&(ft=3):Oc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return _s(),wc(t,r),t===null&&So(r.stateNode.containerInfo),Dt(r),null;case 10:return Gu(r.type._context),Dt(r),null;case 17:return qt(r.type)&&qa(),Dt(r),null;case 19:if(qe(Qe),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)Oo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=tl(t),v!==null){for(r.flags|=128,Oo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(Qe,Qe.current&1|2),r.child}t=t.sibling}p.tail!==null&&be()>Ss&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304)}else{if(!u)if(t=tl(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!We)return Dt(r),null}else 2*be()-p.renderingStartTime>Ss&&o!==1073741824&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=be(),r.sibling=null,o=Qe.current,je(Qe,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Lc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function My(t,r){switch($u(r),r.tag){case 1:return qt(r.type)&&qa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return _s(),qe($t),qe(kt),nc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return ec(r),null;case 13:if(qe(Qe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Qe),null;case 4:return _s(),null;case 10:return Gu(r.type._context),null;case 22:case 23:return Lc(),null;case 24:return null;default:return null}}var cl=!1,Nt=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,se=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Xe(t,r,u)}else o.current=null}function Tc(t,r,o){try{o()}catch(u){Xe(t,r,u)}}var zd=!1;function Uy(t,r){if(Lu=Ir,t=yf(),Ru(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,A=-1,z=0,K=0,Y=t,Q=null;t:for(;;){for(var ne;Y!==o||h!==0&&Y.nodeType!==3||(S=v+h),Y!==p||u!==0&&Y.nodeType!==3||(A=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)Q=Y,Y=ne;for(;;){if(Y===t)break t;if(Q===o&&++z===h&&(S=v),Q===p&&++K===u&&(A=v),(ne=Y.nextSibling)!==null)break;Y=Q,Q=Y.parentNode}Y=ne}o=S===-1||A===-1?null:{start:S,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ou={focusedElem:t,selectionRange:o},Ir=!1,se=r;se!==null;)if(r=se,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,se=t;else for(;se!==null;){r=se;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,tt=ae.memoizedState,M=r.stateNode,D=M.getSnapshotBeforeUpdate(r.elementType===r.type?le:Rn(r.type,le),tt);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Xe(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,se=t;break}se=r.return}return ae=zd,zd=!1,ae}function Mo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Tc(r,o,p)}h=h.next}while(h!==u)}}function hl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Sc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Bd(t){var r=t.alternate;r!==null&&(t.alternate=null,Bd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Fn],delete r[Co],delete r[zu],delete r[Ey],delete r[wy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bd(t){return t.tag===5||t.tag===3||t.tag===4}function jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ic(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ja));else if(u!==4&&(t=t.child,t!==null))for(Ic(t,r,o),t=t.sibling;t!==null;)Ic(t,r,o),t=t.sibling}function Cc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Cc(t,r,o),t=t.sibling;t!==null;)Cc(t,r,o),t=t.sibling}var St=null,An=!1;function Vr(t,r,o){for(o=o.child;o!==null;)$d(t,r,o),o=o.sibling}function $d(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 5:Nt||ws(o,r);case 6:var u=St,h=An;St=null,Vr(t,r,o),St=u,An=h,St!==null&&(An?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(An?(t=St,o=o.stateNode,t.nodeType===8?Uu(t.parentNode,o):t.nodeType===1&&Uu(t,o),Tn(t)):Uu(St,o.stateNode));break;case 4:u=St,h=An,St=o.stateNode.containerInfo,An=!0,Vr(t,r,o),St=u,An=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Tc(o,r,v),h=h.next}while(h!==u)}Vr(t,r,o);break;case 1:if(!Nt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Xe(o,r,S)}Vr(t,r,o);break;case 21:Vr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Vr(t,r,o),Nt=u):Vr(t,r,o);break;default:Vr(t,r,o)}}function qd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Fy),r.forEach(function(u){var h=Qy.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Pn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:St=S.stateNode,An=!1;break e;case 3:St=S.stateNode.containerInfo,An=!0;break e;case 4:St=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(St===null)throw Error(n(160));$d(p,v,h),St=null,An=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(z){Xe(h,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Hd(r,t),r=r.sibling}function Hd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(r,t),Bn(t),u&4){try{Mo(3,t,t.return),hl(3,t)}catch(le){Xe(t,t.return,le)}try{Mo(5,t,t.return)}catch(le){Xe(t,t.return,le)}}break;case 1:Pn(r,t),Bn(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(Pn(r,t),Bn(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(le){Xe(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Ws(h,p),to(S,v);var z=to(S,p);for(v=0;v<A.length;v+=2){var K=A[v],Y=A[v+1];K==="style"?Js(h,Y):K==="dangerouslySetInnerHTML"?Ys(h,Y):K==="children"?gr(h,Y):oe(h,K,Y,z)}switch(S){case"input":Qs(h,p);break;case"textarea":Fi(h,p);break;case"select":var Q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?Yn(h,!!p.multiple,ne,!1):Q!==!!p.multiple&&(p.defaultValue!=null?Yn(h,!!p.multiple,p.defaultValue,!0):Yn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Co]=p}catch(le){Xe(t,t.return,le)}}break;case 6:if(Pn(r,t),Bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){Xe(t,t.return,le)}}break;case 3:if(Pn(r,t),Bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(le){Xe(t,t.return,le)}break;case 4:Pn(r,t),Bn(t);break;case 13:Pn(r,t),Bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Pc=be())),u&4&&qd(t);break;case 22:if(K=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(z=Nt)||K,Pn(r,t),Nt=z):Pn(r,t),Bn(t),u&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!K&&t.mode&1)for(se=t,K=t.child;K!==null;){for(Y=se=K;se!==null;){switch(Q=se,ne=Q.child,Q.tag){case 0:case 11:case 14:case 15:Mo(4,Q,Q.return);break;case 1:ws(Q,Q.return);var ae=Q.stateNode;if(typeof ae.componentWillUnmount=="function"){u=Q,o=Q.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){Xe(u,o,le)}}break;case 5:ws(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Kd(Y);continue}}ne!==null?(ne.return=Q,se=ne):Kd(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{h=Y.stateNode,z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=Y.stateNode,A=Y.memoizedProps.style,v=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=Xs("display",v))}catch(le){Xe(t,t.return,le)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(le){Xe(t,t.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Pn(r,t),Bn(t),u&4&&qd(t);break;case 21:break;default:Pn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(bd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=jd(t);Cc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,S=jd(t);Ic(t,S,v);break;default:throw Error(n(161))}}catch(A){Xe(t,t.return,A)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function zy(t,r,o){se=t,Wd(t)}function Wd(t,r,o){for(var u=(t.mode&1)!==0;se!==null;){var h=se,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||cl;if(!v){var S=h.alternate,A=S!==null&&S.memoizedState!==null||Nt;S=cl;var z=Nt;if(cl=v,(Nt=A)&&!z)for(se=h;se!==null;)v=se,A=v.child,v.tag===22&&v.memoizedState!==null?Gd(h):A!==null?(A.return=v,se=A):Gd(h);for(;p!==null;)se=p,Wd(p),p=p.sibling;se=h,cl=S,Nt=z}Qd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,se=p):Qd(t)}}function Qd(t){for(;se!==null;){var r=se;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||hl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Kf(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Kf(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&o.focus();break;case"img":A.src&&(o.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var K=z.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&Tn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&Sc(r)}catch(Q){Xe(r,r.return,Q)}}if(r===t){se=null;break}if(o=r.sibling,o!==null){o.return=r.return,se=o;break}se=r.return}}function Kd(t){for(;se!==null;){var r=se;if(r===t){se=null;break}var o=r.sibling;if(o!==null){o.return=r.return,se=o;break}se=r.return}}function Gd(t){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{hl(4,r)}catch(A){Xe(r,o,A)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(A){Xe(r,h,A)}}var p=r.return;try{Sc(r)}catch(A){Xe(r,p,A)}break;case 5:var v=r.return;try{Sc(r)}catch(A){Xe(r,v,A)}}}catch(A){Xe(r,r.return,A)}if(r===t){se=null;break}var S=r.sibling;if(S!==null){S.return=r.return,se=S;break}se=r.return}}var By=Math.ceil,fl=he.ReactCurrentDispatcher,Rc=he.ReactCurrentOwner,dn=he.ReactCurrentBatchConfig,Ne=0,vt=null,ot=null,It=0,rn=0,Ts=Pr(0),ft=0,Fo=null,_i=0,dl=0,Ac=0,Uo=null,Wt=null,Pc=0,Ss=1/0,hr=null,pl=!1,kc=null,Lr=null,ml=!1,Or=null,gl=0,zo=0,xc=null,yl=-1,vl=0;function zt(){return Ne&6?be():yl!==-1?yl:yl=be()}function Mr(t){return t.mode&1?Ne&2&&It!==0?It&-It:Sy.transition!==null?(vl===0&&(vl=ai()),vl):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:fo(t.type)),t):1}function kn(t,r,o,u){if(50<zo)throw zo=0,xc=null,Error(n(185));Er(t,o,u),(!(Ne&2)||t!==vt)&&(t===vt&&(!(Ne&2)&&(dl|=o),ft===4&&Fr(t,It)),Qt(t,u),o===1&&Ne===0&&!(r.mode&1)&&(Ss=be()+500,Wa&&xr()))}function Qt(t,r){var o=t.callbackNode;Zn(t,r);var u=oi(t,t===vt?It:0);if(u===0)o!==null&&ao(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ao(o),r===1)t.tag===0?Ty(Xd.bind(null,t)):Mf(Xd.bind(null,t)),vy(function(){!(Ne&6)&&xr()}),o=null;else{switch(Tr(u)){case 1:o=ii;break;case 4:o=yr;break;case 16:o=on;break;case 536870912:o=va;break;default:o=on}o=sp(o,Yd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Yd(t,r){if(yl=-1,vl=0,Ne&6)throw Error(n(327));var o=t.callbackNode;if(Is()&&t.callbackNode!==o)return null;var u=oi(t,t===vt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=_l(t,u);else{r=u;var h=Ne;Ne|=2;var p=Zd();(vt!==t||It!==r)&&(hr=null,Ss=be()+500,wi(t,r));do try{$y();break}catch(S){Jd(t,S)}while(!0);Ku(),fl.current=p,Ne=h,ot!==null?r=0:(vt=null,It=0,r=ft)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Dc(t,h))),r===1)throw o=Fo,wi(t,0),Fr(t,u),Qt(t,be()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!by(h)&&(r=_l(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Dc(t,p))),r===1))throw o=Fo,wi(t,0),Fr(t,u),Qt(t,be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ti(t,Wt,hr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Pc+500-be(),10<r)){if(oi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Fu(Ti.bind(null,t,Wt,hr),r);break}Ti(t,Wt,hr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Mt(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*By(u/1960))-u,10<u){t.timeoutHandle=Fu(Ti.bind(null,t,Wt,hr),u);break}Ti(t,Wt,hr);break;case 5:Ti(t,Wt,hr);break;default:throw Error(n(329))}}}return Qt(t,be()),t.callbackNode===o?Yd.bind(null,t):null}function Dc(t,r){var o=Uo;return t.current.memoizedState.isDehydrated&&(wi(t,r).flags|=256),t=_l(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Nc(r)),t}function Nc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function by(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~Ac,r&=~dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function Xd(t){if(Ne&6)throw Error(n(327));Is();var r=oi(t,0);if(!(r&1))return Qt(t,be()),null;var o=_l(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Dc(t,u))}if(o===1)throw o=Fo,wi(t,0),Fr(t,r),Qt(t,be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ti(t,Wt,hr),Qt(t,be()),null}function Vc(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(Ss=be()+500,Wa&&xr())}}function Ei(t){Or!==null&&Or.tag===0&&!(Ne&6)&&Is();var r=Ne;Ne|=1;var o=dn.transition,u=Ce;try{if(dn.transition=null,Ce=1,t)return t()}finally{Ce=u,dn.transition=o,Ne=r,!(Ne&6)&&xr()}}function Lc(){rn=Ts.current,qe(Ts)}function wi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,yy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch($u(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&qa();break;case 3:_s(),qe($t),qe(kt),nc();break;case 5:ec(u);break;case 4:_s();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Gu(u.type._context);break;case 22:case 23:Lc()}o=o.return}if(vt=t,ot=t=Ur(t.current,null),It=rn=r,ft=0,Fo=null,Ac=dl=_i=0,Wt=Uo=null,gi!==null){for(r=0;r<gi.length;r++)if(o=gi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}gi=null}return t}function Jd(t,r){do{var o=ot;try{if(Ku(),nl.current=ol,rl){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}rl=!1}if(vi=0,yt=ht=Ke=null,Do=!1,No=0,Rc.current=null,o===null||o.return===null){ft=1,Fo=r,ot=null;break}e:{var p=t,v=o.return,S=o,A=r;if(r=It,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=A,K=S,Y=K.tag;if(!(K.mode&1)&&(Y===0||Y===11||Y===15)){var Q=K.alternate;Q?(K.updateQueue=Q.updateQueue,K.memoizedState=Q.memoizedState,K.lanes=Q.lanes):(K.updateQueue=null,K.memoizedState=null)}var ne=Sd(v);if(ne!==null){ne.flags&=-257,Id(ne,v,S,p,r),ne.mode&1&&Td(p,z,r),r=ne,A=z;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(A),r.updateQueue=le}else ae.add(A);break e}else{if(!(r&1)){Td(p,z,r),Oc();break e}A=Error(n(426))}}else if(We&&S.mode&1){var tt=Sd(v);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Id(tt,v,S,p,r),Wu(Es(A,S));break e}}p=A=Es(A,S),ft!==4&&(ft=2),Uo===null?Uo=[p]:Uo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Ed(p,A,r);Qf(p,M);break e;case 1:S=A;var D=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Lr===null||!Lr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=wd(p,S,r);Qf(p,J);break e}}p=p.return}while(p!==null)}tp(o)}catch(ue){r=ue,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function Zd(){var t=fl.current;return fl.current=ol,t===null?ol:t}function Oc(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(_i&268435455)&&!(dl&268435455)||Fr(vt,It)}function _l(t,r){var o=Ne;Ne|=2;var u=Zd();(vt!==t||It!==r)&&(hr=null,wi(t,r));do try{jy();break}catch(h){Jd(t,h)}while(!0);if(Ku(),Ne=o,fl.current=u,ot!==null)throw Error(n(261));return vt=null,It=0,ft}function jy(){for(;ot!==null;)ep(ot)}function $y(){for(;ot!==null&&!ga();)ep(ot)}function ep(t){var r=ip(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?tp(t):ot=r,Rc.current=null}function tp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=My(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=Oy(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Ti(t,r,o){var u=Ce,h=dn.transition;try{dn.transition=null,Ce=1,qy(t,r,o,u)}finally{dn.transition=h,Ce=u}return null}function qy(t,r,o,u){do Is();while(Or!==null);if(Ne&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===vt&&(ot=vt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||ml||(ml=!0,sp(on,function(){return Is(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var v=Ce;Ce=1;var S=Ne;Ne|=4,Rc.current=null,Uy(t,o),Hd(o,t),cy(Ou),Ir=!!Lu,Ou=Lu=null,t.current=o,zy(o),vu(),Ne=S,Ce=v,dn.transition=p}else t.current=o;if(ml&&(ml=!1,Or=t,gl=h),p=t.pendingLanes,p===0&&(Lr=null),_a(o.stateNode),Qt(t,be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(pl)throw pl=!1,t=kc,kc=null,t;return gl&1&&t.tag!==0&&Is(),p=t.pendingLanes,p&1?t===xc?zo++:(zo=0,xc=t):zo=0,xr(),null}function Is(){if(Or!==null){var t=Tr(gl),r=dn.transition,o=Ce;try{if(dn.transition=null,Ce=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,gl=0,Ne&6)throw Error(n(331));var h=Ne;for(Ne|=4,se=t.current;se!==null;){var p=se,v=p.child;if(se.flags&16){var S=p.deletions;if(S!==null){for(var A=0;A<S.length;A++){var z=S[A];for(se=z;se!==null;){var K=se;switch(K.tag){case 0:case 11:case 15:Mo(8,K,p)}var Y=K.child;if(Y!==null)Y.return=K,se=Y;else for(;se!==null;){K=se;var Q=K.sibling,ne=K.return;if(Bd(K),K===z){se=null;break}if(Q!==null){Q.return=ne,se=Q;break}se=ne}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var tt=le.sibling;le.sibling=null,le=tt}while(le!==null)}}se=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,se=v;else e:for(;se!==null;){if(p=se,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Mo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,se=M;break e}se=p.return}}var D=t.current;for(se=D;se!==null;){v=se;var F=v.child;if(v.subtreeFlags&2064&&F!==null)F.return=v,se=F;else e:for(v=D;se!==null;){if(S=se,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:hl(9,S)}}catch(ue){Xe(S,S.return,ue)}if(S===v){se=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,se=J;break e}se=S.return}}if(Ne=h,xr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(si,t)}catch{}u=!0}return u}finally{Ce=o,dn.transition=r}}return!1}function np(t,r,o){r=Es(o,r),r=Ed(t,r,1),t=Nr(t,r,1),r=zt(),t!==null&&(Er(t,1,r),Qt(t,r))}function Xe(t,r,o){if(t.tag===3)np(t,t,o);else for(;r!==null;){if(r.tag===3){np(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Es(o,t),t=wd(r,t,1),r=Nr(r,t,1),t=zt(),r!==null&&(Er(r,1,t),Qt(r,t));break}}r=r.return}}function Hy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(It&o)===o&&(ft===4||ft===3&&(It&130023424)===It&&500>be()-Pc?wi(t,0):Ac|=o),Qt(t,r)}function rp(t,r){r===0&&(t.mode&1?(r=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):r=1);var o=zt();t=lr(t,r),t!==null&&(Er(t,r,o),Qt(t,o))}function Wy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),rp(t,o)}function Qy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),rp(t,o)}var ip;ip=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Ht=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Ht=!1,Ly(t,r,o);Ht=!!(t.flags&131072)}else Ht=!1,We&&r.flags&1048576&&Ff(r,Ka,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ul(t,r),t=r.pendingProps;var h=fs(r,kt.current);vs(r,o),h=sc(null,r,u,t,h,o);var p=oc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Ha(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ju(r),h.updater=al,r.stateNode=h,h._reactInternals=r,fc(r,u,t,o),r=gc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&ju(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ul(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Gy(u),t=Rn(u,t),h){case 0:r=mc(null,r,u,t,o);break e;case 1:r=xd(null,r,u,t,o);break e;case 11:r=Cd(null,r,u,t,o);break e;case 14:r=Rd(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),mc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),xd(t,r,u,h,o);case 3:e:{if(Dd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Wf(t,r),el(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=Nd(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=Nd(t,r,u,o,h);break e}else for(nn=Ar(r.stateNode.containerInfo.firstChild),tn=r,We=!0,Cn=null,o=qf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=cr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return Gf(r),t===null&&Hu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Mu(u,h)?v=null:p!==null&&Mu(u,p)&&(r.flags|=32),kd(t,r),Ut(t,r,v,o),r.child;case 6:return t===null&&Hu(r),null;case 13:return Vd(t,r,o);case 4:return Zu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Cd(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,je(Xa,u._currentValue),u._currentValue=v,p!==null)if(In(p.value,v)){if(p.children===h.children&&!$t.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var A=S.firstContext;A!==null;){if(A.context===u){if(p.tag===1){A=ur(-1,o&-o),A.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var K=z.pending;K===null?A.next=A:(A.next=K.next,K.next=A),z.pending=A}}p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Yu(p.return,o,r),S.lanes|=o;break}A=A.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),Yu(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,vs(r,o),h=hn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),Rd(t,r,u,h,o);case 15:return Ad(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),ul(t,r),r.tag=1,qt(u)?(t=!0,Ha(r)):t=!1,vs(r,o),vd(r,u,h),fc(r,u,h,o),gc(null,r,u,!0,t,o);case 19:return Od(t,r,o);case 22:return Pd(t,r,o)}throw Error(n(156,r.tag))};function sp(t,r){return Hi(t,r)}function Ky(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new Ky(t,r,o,u)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gy(t){if(typeof t=="function")return Mc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===At)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function El(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")Mc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return Si(o.children,h,p,r);case T:v=8,h|=8;break;case I:return t=pn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case C:return t=pn(13,o,r,h),t.elementType=C,t.lanes=p,t;case Ze:return t=pn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Ue:return wl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case N:v=9;break e;case L:v=11;break e;case At:v=14;break e;case Pt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Si(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function wl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Fc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Uc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Yy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function zc(t,r,o,u,h,p,v,S,A){return t=new Yy(t,r,o,S,A),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(p),t}function Xy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function op(t){if(!t)return kr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return Lf(t,o,r)}return r}function ap(t,r,o,u,h,p,v,S,A){return t=zc(o,u,!0,t,h,p,v,S,A),t.context=op(null),o=t.current,u=zt(),h=Mr(o),p=ur(u,h),p.callback=r??null,Nr(o,p,h),t.current.lanes=h,Er(t,h,u),Qt(t,u),t}function Tl(t,r,o,u){var h=r.current,p=zt(),v=Mr(h);return o=op(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Nr(h,r,v),t!==null&&(kn(t,h,v,p),Za(t,h,v)),v}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Bc(t,r){lp(t,r),(t=t.alternate)&&lp(t,r)}var up=typeof reportError=="function"?reportError:function(t){console.error(t)};function bc(t){this._internalRoot=t}Il.prototype.render=bc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Tl(t,r,null,null)},Il.prototype.unmount=bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ei(function(){Tl(null,t,null,null)}),r[ir]=null}};function Il(t){this._internalRoot=t}Il.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ia();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Vn.length&&r!==0&&r<Vn[o].priority;o++);Vn.splice(o,0,t),o===0&&Aa(t)}};function jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cp(){}function Jy(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var z=Sl(v);p.call(z)}}var v=ap(r,u,t,0,null,!1,!1,"",cp);return t._reactRootContainer=v,t[ir]=v.current,So(t.nodeType===8?t.parentNode:t),Ei(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var z=Sl(A);S.call(z)}}var A=zc(t,0,!1,null,null,!1,!1,"",cp);return t._reactRootContainer=A,t[ir]=A.current,So(t.nodeType===8?t.parentNode:t),Ei(function(){Tl(r,A,o,u)}),A}function Rl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var S=h;h=function(){var A=Sl(v);S.call(A)}}Tl(r,v,t,h)}else v=Jy(o,r,t,h,u);return Sl(v)}Ta=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=vr(r.pendingLanes);o!==0&&(wr(r,o|1),Qt(r,be()),!(Ne&6)&&(Ss=be()+500,xr()))}break;case 13:Ei(function(){var u=lr(t,1);if(u!==null){var h=zt();kn(u,t,1,h)}}),Bc(t,1)}},Ki=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=zt();kn(r,t,134217728,o)}Bc(t,134217728)}},Sa=function(t){if(t.tag===13){var r=Mr(t),o=lr(t,r);if(o!==null){var u=zt();kn(o,t,r,u)}Bc(t,r)}},Ia=function(){return Ce},Ca=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},zi=function(t,r,o){switch(r){case"input":if(Qs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=$a(u);if(!h)throw Error(n(90));Vi(u),Qs(u,h)}}}break;case"textarea":Fi(t,o);break;case"select":r=o.value,r!=null&&Yn(t,!!o.multiple,r,!1)}},ei=Vc,ro=Ei;var Zy={usingClientEntryPoint:!1,Events:[Ro,cs,$a,Dn,no,Vc]},Bo={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oo(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{si=Al.inject(ev),Xt=Al}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy,Kt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(r))throw Error(n(200));return Xy(t,r,null,o)},Kt.createRoot=function(t,r){if(!jc(t))throw Error(n(299));var o=!1,u="",h=up;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=zc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,So(t.nodeType===8?t.parentNode:t),new bc(r)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=oo(r),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return Ei(t)},Kt.hydrate=function(t,r,o){if(!Cl(r))throw Error(n(200));return Rl(null,t,r,!0,o)},Kt.hydrateRoot=function(t,r,o){if(!jc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=up;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=ap(r,null,t,1,o??null,h,!1,p,v),t[ir]=r.current,So(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Il(r)},Kt.render=function(t,r,o){if(!Cl(r))throw Error(n(200));return Rl(null,t,r,!1,o)},Kt.unmountComponentAtNode=function(t){if(!Cl(t))throw Error(n(40));return t._reactRootContainer?(Ei(function(){Rl(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Kt.unstable_batchedUpdates=Vc,Kt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Cl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Rl(t,r,o,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var vp;function uv(){if(vp)return Hc.exports;vp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hc.exports=lv(),Hc.exports}var _p;function cv(){if(_p)return Pl;_p=1;var i=uv();return Pl.createRoot=i.createRoot,Pl.hydrateRoot=i.hydrateRoot,Pl}var hv=cv(),jo={},Ep;function fv(){if(Ep)return jo;Ep=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.parse=f,jo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const P=function(){};return P.prototype=Object.create(null),P})();function f(P,U){const B=new c,$=P.length;if($<2)return B;const b=(U==null?void 0:U.decode)||w;let G=0;do{const X=P.indexOf("=",G);if(X===-1)break;const oe=P.indexOf(";",G),he=oe===-1?$:oe;if(X>he){G=P.lastIndexOf(";",X-1)+1;continue}const Ie=m(P,G,X),Ee=y(P,X,Ie),x=P.slice(Ie,Ee);if(B[x]===void 0){let T=m(P,X+1,he),I=y(P,he,T);const k=b(P.slice(T,I));B[x]=k}G=he+1}while(G<$);return B}function m(P,U,B){do{const $=P.charCodeAt(U);if($!==32&&$!==9)return U}while(++U<B);return B}function y(P,U,B){for(;U>B;){const $=P.charCodeAt(--U);if($!==32&&$!==9)return U+1}return B}function _(P,U,B){const $=(B==null?void 0:B.encode)||encodeURIComponent;if(!i.test(P))throw new TypeError(`argument name is invalid: ${P}`);const b=$(U);if(!e.test(b))throw new TypeError(`argument val is invalid: ${U}`);let G=P+"="+b;if(!B)return G;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);G+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);G+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);G+="; Path="+B.path}if(B.expires){if(!R(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);G+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(G+="; HttpOnly"),B.secure&&(G+="; Secure"),B.partitioned&&(G+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return G}function w(P){if(P.indexOf("%")===-1)return P;try{return decodeURIComponent(P)}catch{return P}}function R(P){return a.call(P)==="[object Date]"}return jo}fv();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wp="popstate";function dv(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return oh("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xo(a)}return mv(e,n,null,i)}function Ge(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pv(){return Math.random().toString(36).substring(2,10)}function Tp(i,e){return{usr:i.state,key:i.key,idx:e}}function oh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?zs(e):e,state:n,key:e&&e.key||s||pv()}}function Xo({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function zs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function mv(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",y=null,_=w();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function w(){return(f.state||{idx:null}).idx}function R(){m="POP";let b=w(),G=b==null?null:b-_;_=b,y&&y({action:m,location:$.location,delta:G})}function P(b,G){m="PUSH";let X=oh($.location,b,G);_=w()+1;let oe=Tp(X,_),he=$.createHref(X);try{f.pushState(oe,"",he)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;a.location.assign(he)}c&&y&&y({action:m,location:$.location,delta:1})}function U(b,G){m="REPLACE";let X=oh($.location,b,G);_=w();let oe=Tp(X,_),he=$.createHref(X);f.replaceState(oe,"",he),c&&y&&y({action:m,location:$.location,delta:0})}function B(b){let G=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof b=="string"?b:Xo(b);return X=X.replace(/ $/,"%20"),Ge(G,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,G)}let $={get action(){return m},get location(){return i(a,f)},listen(b){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(wp,R),y=b,()=>{a.removeEventListener(wp,R),y=null}},createHref(b){return e(a,b)},createURL:B,encodeLocation(b){let G=B(b);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:P,replace:U,go(b){return f.go(b)}};return $}function Rm(i,e,n="/"){return gv(i,e,n,!1)}function gv(i,e,n,s){let a=typeof e=="string"?zs(e):e,c=qr(a.pathname||"/",n);if(c==null)return null;let f=Am(i);yv(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=Pv(c);m=Rv(f[y],_,s)}return m}function Am(i,e=[],n=[],s=""){let a=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(Ge(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=fr([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(Ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Am(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:Iv(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let y of Pm(c.path))a(c,f,y)}),e}function Pm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=Pm(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function yv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Cv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vv=/^:[\w-]+$/,_v=3,Ev=2,wv=1,Tv=10,Sv=-2,Sp=i=>i==="*";function Iv(i,e){let n=i.split("/"),s=n.length;return n.some(Sp)&&(s+=Sv),e&&(s+=Ev),n.filter(a=>!Sp(a)).reduce((a,c)=>a+(vv.test(c)?_v:c===""?wv:Tv),s)}function Cv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function Rv(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=ql({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},w),P=y.route;if(!R&&_&&n&&!s[s.length-1].route.index&&(R=ql({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),f.push({params:a,pathname:fr([c,R.pathname]),pathnameBase:Nv(fr([c,R.pathnameBase])),route:P}),R.pathnameBase!=="/"&&(c=fr([c,R.pathnameBase]))}return f}function ql(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Av(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:R},P)=>{if(w==="*"){let B=m[P]||"";f=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const U=m[P];return R&&!U?_[w]=void 0:_[w]=(U||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function Av(i,e=!1,n=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Pv(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function qr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function kv(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?zs(i):i;return{pathname:n?n.startsWith("/")?n:xv(n,e):e,search:Vv(s),hash:Lv(a)}}function xv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Kc(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dv(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function km(i){let e=Dv(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xm(i,e,n,s=!1){let a;typeof i=="string"?a=zs(i):(a={...i},Ge(!a.pathname||!a.pathname.includes("?"),Kc("?","pathname","search",a)),Ge(!a.pathname||!a.pathname.includes("#"),Kc("#","pathname","hash",a)),Ge(!a.search||!a.search.includes("#"),Kc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let P=f.split("/");for(;P[0]==="..";)P.shift(),R-=1;a.pathname=P.join("/")}m=R>=0?e[R]:"/"}let y=kv(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||w)&&(y.pathname+="/"),y}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),Nv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Vv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Lv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Ov(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Dm=["POST","PUT","PATCH","DELETE"];new Set(Dm);var Mv=["GET",...Dm];new Set(Mv);var Bs=q.createContext(null);Bs.displayName="DataRouter";var ru=q.createContext(null);ru.displayName="DataRouterState";var Nm=q.createContext({isTransitioning:!1});Nm.displayName="ViewTransition";var Fv=q.createContext(new Map);Fv.displayName="Fetchers";var Uv=q.createContext(null);Uv.displayName="Await";var Wn=q.createContext(null);Wn.displayName="Navigation";var oa=q.createContext(null);oa.displayName="Location";var Qn=q.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Nh=q.createContext(null);Nh.displayName="RouteError";function zv(i,{relative:e}={}){Ge(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Wn),{hash:a,pathname:c,search:f}=la(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:fr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function aa(){return q.useContext(oa)!=null}function Di(){return Ge(aa(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(oa).location}var Vm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lm(i){q.useContext(Wn).static||q.useLayoutEffect(i)}function Bv(){let{isDataRoute:i}=q.useContext(Qn);return i?e_():bv()}function bv(){Ge(aa(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Bs),{basename:e,navigator:n}=q.useContext(Wn),{matches:s}=q.useContext(Qn),{pathname:a}=Di(),c=JSON.stringify(km(s)),f=q.useRef(!1);return Lm(()=>{f.current=!0}),q.useCallback((y,_={})=>{if($n(f.current,Vm),!f.current)return;if(typeof y=="number"){n.go(y);return}let w=xm(y,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:fr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}q.createContext(null);function jv(){let{matches:i}=q.useContext(Qn),e=i[i.length-1];return e?e.params:{}}function la(i,{relative:e}={}){let{matches:n}=q.useContext(Qn),{pathname:s}=Di(),a=JSON.stringify(km(n));return q.useMemo(()=>xm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function $v(i,e){return Om(i,e)}function Om(i,e,n,s){var G;Ge(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=q.useContext(Wn),{matches:c}=q.useContext(Qn),f=c[c.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",w=f&&f.route;{let X=w&&w.path||"";Mm(y,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Di(),P;if(e){let X=typeof e=="string"?zs(e):e;Ge(_==="/"||((G=X.pathname)==null?void 0:G.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),P=X}else P=R;let U=P.pathname||"/",B=U;if(_!=="/"){let X=_.replace(/^\//,"").split("/");B="/"+U.replace(/^\//,"").split("/").slice(X.length).join("/")}let $=Rm(i,{pathname:B});$n(w||$!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),$n($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Kv($&&$.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:fr([_,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:fr([_,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,n,s);return e&&b?q.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},b):b}function qv(){let i=Zv(),e=Ov(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:c},"ErrorBoundary")," or"," ",q.createElement("code",{style:c},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,f)}var Hv=q.createElement(qv,null),Wv=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(Qn.Provider,{value:this.props.routeContext},q.createElement(Nh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qv({routeContext:i,match:e,children:n}){let s=q.useContext(Bs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Qn.Provider,{value:i},n)}function Kv(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let y=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Ge(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<a.length;y++){let _=a[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:w,errors:R}=n,P=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||P){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((y,_,w)=>{let R,P=!1,U=null,B=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||Hv,f&&(m<0&&w===0?(Mm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,B=null):m===w&&(P=!0,B=_.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),b=()=>{let G;return R?G=U:P?G=B:_.route.Component?G=q.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,q.createElement(Qv,{match:_,routeContext:{outlet:y,matches:$,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?q.createElement(Wv,{location:n.location,revalidation:n.revalidation,component:U,error:R,children:b(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):b()},null)}function Vh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(i){let e=q.useContext(Bs);return Ge(e,Vh(i)),e}function Yv(i){let e=q.useContext(ru);return Ge(e,Vh(i)),e}function Xv(i){let e=q.useContext(Qn);return Ge(e,Vh(i)),e}function Lh(i){let e=Xv(i),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Jv(){return Lh("useRouteId")}function Zv(){var s;let i=q.useContext(Nh),e=Yv("useRouteError"),n=Lh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function e_(){let{router:i}=Gv("useNavigate"),e=Lh("useNavigate"),n=q.useRef(!1);return Lm(()=>{n.current=!0}),q.useCallback(async(a,c={})=>{$n(n.current,Vm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var Ip={};function Mm(i,e,n){!e&&!Ip[i]&&(Ip[i]=!0,$n(!1,n))}q.memo(t_);function t_({routes:i,future:e,state:n}){return Om(i,void 0,n,e)}function ah(i){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n_({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Ge(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=zs(n));let{pathname:y="/",search:_="",hash:w="",state:R=null,key:P="default"}=n,U=q.useMemo(()=>{let B=qr(y,f);return B==null?null:{location:{pathname:B,search:_,hash:w,state:R,key:P},navigationType:s}},[f,y,_,w,R,P,s]);return $n(U!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:q.createElement(Wn.Provider,{value:m},q.createElement(oa.Provider,{children:e,value:U}))}function r_({children:i,location:e}){return $v(lh(i),e)}function lh(i,e=[]){let n=[];return q.Children.forEach(i,(s,a)=>{if(!q.isValidElement(s))return;let c=[...e,a];if(s.type===q.Fragment){n.push.apply(n,lh(s.props.children,c));return}Ge(s.type===ah,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lh(s.props.children,c)),n.push(f)}),n}var Fl="get",Ul="application/x-www-form-urlencoded";function iu(i){return i!=null&&typeof i.tagName=="string"}function i_(i){return iu(i)&&i.tagName.toLowerCase()==="button"}function s_(i){return iu(i)&&i.tagName.toLowerCase()==="form"}function o_(i){return iu(i)&&i.tagName.toLowerCase()==="input"}function a_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function l_(i,e){return i.button===0&&(!e||e==="_self")&&!a_(i)}var kl=null;function u_(){if(kl===null)try{new FormData(document.createElement("form"),0),kl=!1}catch{kl=!0}return kl}var c_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gc(i){return i!=null&&!c_.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ul}"`),null):i}function h_(i,e){let n,s,a,c,f;if(s_(i)){let m=i.getAttribute("action");s=m?qr(m,e):null,n=i.getAttribute("method")||Fl,a=Gc(i.getAttribute("enctype"))||Ul,c=new FormData(i)}else if(i_(i)||o_(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(s=y?qr(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Fl,a=Gc(i.getAttribute("formenctype"))||Gc(m.getAttribute("enctype"))||Ul,c=new FormData(m,i),!u_()){let{name:_,type:w,value:R}=i;if(w==="image"){let P=_?`${_}.`:"";c.append(`${P}x`,"0"),c.append(`${P}y`,"0")}else _&&c.append(_,R)}}else{if(iu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fl,s=null,a=Ul,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function Oh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function f_(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function p_(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await f_(c,n);return f.links?f.links():[]}return[]}));return v_(s.flat(1).filter(d_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Cp(i,e,n,s,a,c){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>{var w;return n[_].pathname!==y.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==y.params["*"]};return c==="assets"?e.filter((y,_)=>f(y,_)||m(y,_)):c==="data"?e.filter((y,_)=>{var R;let w=s.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let P=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function m_(i,e){return g_(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function g_(i){return[...new Set(i)]}function y_(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function v_(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(y_(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function __(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function E_(){let i=q.useContext(Bs);return Oh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function w_(){let i=q.useContext(ru);return Oh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Mh=q.createContext(void 0);Mh.displayName="FrameworkContext";function Fm(){let i=q.useContext(Mh);return Oh(i,"You must render this element inside a <HydratedRouter> element"),i}function T_(i,e){let n=q.useContext(Mh),[s,a]=q.useState(!1),[c,f]=q.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:w,onTouchStart:R}=e,P=q.useRef(null);q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=G=>{G.forEach(X=>{f(X.isIntersecting)})},b=new IntersectionObserver($,{threshold:.5});return P.current&&b.observe(P.current),()=>{b.disconnect()}}},[i]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let U=()=>{a(!0)},B=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,P,{}]:[c,P,{onFocus:$o(m,U),onBlur:$o(y,B),onMouseEnter:$o(_,U),onMouseLeave:$o(w,B),onTouchStart:$o(R,U)}]:[!1,P,{}]}function $o(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function S_({page:i,...e}){let{router:n}=E_(),s=q.useMemo(()=>Rm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(C_,{page:i,matches:s,...e}):null}function I_(i){let{manifest:e,routeModules:n}=Fm(),[s,a]=q.useState([]);return q.useEffect(()=>{let c=!1;return p_(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function C_({page:i,matches:e,...n}){let s=Di(),{manifest:a,routeModules:c}=Fm(),{loaderData:f,matches:m}=w_(),y=q.useMemo(()=>Cp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=q.useMemo(()=>Cp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,B=!1;if(e.forEach(b=>{var X;let G=a.routes[b.route.id];!G||!G.hasLoader||(!y.some(oe=>oe.route.id===b.route.id)&&b.route.id in f&&((X=c[b.route.id])!=null&&X.shouldRevalidate)||G.hasClientLoader?B=!0:U.add(b.route.id))}),U.size===0)return[];let $=__(i);return B&&U.size>0&&$.searchParams.set("_routes",e.filter(b=>U.has(b.route.id)).map(b=>b.route.id).join(",")),[$.pathname+$.search]},[f,s,a,y,e,i,c]),R=q.useMemo(()=>m_(_,a),[_,a]),P=I_(_);return q.createElement(q.Fragment,null,w.map(U=>q.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),R.map(U=>q.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),P.map(({key:U,link:B})=>q.createElement("link",{key:U,...B})))}function R_(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Um=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Um&&(window.__reactRouterVersion="7.1.1")}catch{}function A_({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=dv({window:n,v5Compat:!0}));let a=s.current,[c,f]=q.useState({action:a.action,location:a.location}),m=q.useCallback(y=>{q.startTransition(()=>f(y))},[f]);return q.useLayoutEffect(()=>a.listen(m),[a,m]),q.createElement(n_,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bm=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:y,to:_,preventScrollReset:w,viewTransition:R,...P},U){let{basename:B}=q.useContext(Wn),$=typeof _=="string"&&zm.test(_),b,G=!1;if(typeof _=="string"&&$&&(b=_,Um))try{let I=new URL(window.location.href),k=_.startsWith("//")?new URL(I.protocol+_):new URL(_),N=qr(k.pathname,B);k.origin===I.origin&&N!=null?_=N+k.search+k.hash:G=!0}catch{$n(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=zv(_,{relative:a}),[oe,he,Ie]=T_(s,P),Ee=D_(_,{replace:f,state:m,target:y,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||Ee(I)}let T=q.createElement("a",{...P,...Ie,href:b||X,onClick:G||c?e:x,ref:R_(U,he),target:y,"data-discover":!$&&n==="render"?"true":void 0});return oe&&!$?q.createElement(q.Fragment,null,T,q.createElement(S_,{page:X})):T});Bm.displayName="Link";var P_=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:y,..._},w){let R=la(f,{relative:_.relative}),P=Di(),U=q.useContext(ru),{navigator:B,basename:$}=q.useContext(Wn),b=U!=null&&M_(R)&&m===!0,G=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,X=P.pathname,oe=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(X=X.toLowerCase(),oe=oe?oe.toLowerCase():null,G=G.toLowerCase()),oe&&$&&(oe=qr(oe,$)||oe);const he=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Ie=X===G||!a&&X.startsWith(G)&&X.charAt(he)==="/",Ee=oe!=null&&(oe===G||!a&&oe.startsWith(G)&&oe.charAt(G.length)==="/"),x={isActive:Ie,isPending:Ee,isTransitioning:b},T=Ie?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ie?"active":null,Ee?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return q.createElement(Bm,{..._,"aria-current":T,className:I,ref:w,style:k,to:f,viewTransition:m},typeof y=="function"?y(x):y)});P_.displayName="NavLink";var k_=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=Fl,action:m,onSubmit:y,relative:_,preventScrollReset:w,viewTransition:R,...P},U)=>{let B=L_(),$=O_(m,{relative:_}),b=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&zm.test(m),X=oe=>{if(y&&y(oe),oe.defaultPrevented)return;oe.preventDefault();let he=oe.nativeEvent.submitter,Ie=(he==null?void 0:he.getAttribute("formmethod"))||f;B(he||oe.currentTarget,{fetcherKey:e,method:Ie,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:R})};return q.createElement("form",{ref:U,method:b,action:$,onSubmit:s?y:X,...P,"data-discover":!G&&i==="render"?"true":void 0})});k_.displayName="Form";function x_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bm(i){let e=q.useContext(Bs);return Ge(e,x_(i)),e}function D_(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=Bv(),y=Di(),_=la(i,{relative:c});return q.useCallback(w=>{if(l_(w,e)){w.preventDefault();let R=n!==void 0?n:Xo(y)===Xo(_);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[y,m,_,n,s,e,i,a,c,f])}var N_=0,V_=()=>`__${String(++N_)}__`;function L_(){let{router:i}=bm("useSubmit"),{basename:e}=q.useContext(Wn),n=Jv();return q.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:y,body:_}=h_(s,e);if(a.navigate===!1){let w=a.fetcherKey||V_();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function O_(i,{relative:e}={}){let{basename:n}=q.useContext(Wn),s=q.useContext(Qn);Ge(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...la(i||".",{relative:e})},f=Di();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(w=>w==="")){m.delete("index"),y.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fr([n,c.pathname])),Xo(c)}function M_(i,e={}){let n=q.useContext(Nm);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bm("useViewTransitionState"),a=la(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ql(a.pathname,f)!=null||ql(a.pathname,c)!=null}new TextEncoder;const xl={container:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"20px",maxWidth:"600px",margin:"0 auto 6rem",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.37)",backdropFilter:"blur(15px) contrast(0.9) brightness(1.1)",WebkitBackdropFilter:"blur(15px) contrast(0.9) brightness(1.1)",textAlign:"center"},text:{fontFamily:"'Arial', sans-serif",fontSize:"1.5rem",fontWeight:"500",color:"#ffffff",margin:0,lineHeight:"1.8",textShadow:"0px 0px 5px rgba(255, 255, 255, 0.3)"},quoteMarks:{fontSize:"2rem",color:"#ffffff"}};function F_(i=""){return i.replace(/"/g,"")}const U_=({text:i})=>rt.jsx("div",{style:xl.container,className:"slide-in",children:rt.jsxs("h2",{style:xl.text,children:[rt.jsx("span",{style:xl.quoteMarks,children:""}),F_(i),rt.jsx("span",{style:xl.quoteMarks,children:""})]})});var Rp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},z_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},$m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let P=(m&15)<<2|_>>6,U=_&63;y||(U=64,f||(P=64)),s.push(n[w],n[R],n[P],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):z_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new B_;const P=c<<2|m>>4;if(s.push(P),_!==64){const U=m<<4&240|_>>2;if(s.push(U),R!==64){const B=_<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class B_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b_=function(i){const e=jm(i);return $m.encodeByteArray(e,!0)},Hl=function(i){return b_(i).replace(/\./g,"")},j_=function(i){try{return $m.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=()=>$_().__FIREBASE_DEFAULTS__,H_=()=>{if(typeof process>"u"||typeof Rp>"u")return;const i=Rp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},W_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&j_(i[1]);return e&&JSON.parse(e)},Fh=()=>{try{return q_()||H_()||W_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Q_=i=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},K_=i=>{const e=Q_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qm=()=>{var i;return(i=Fh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Hl(JSON.stringify(n)),Hl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J_(){var i;const e=(i=Fh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z_(){return!J_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function tE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="FirebaseError";class bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nE,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hm.prototype.create)}}class Hm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?rE(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new bs(a,m,s)}}function rE(i,e){return i.replace(iE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const iE=/\{\$([^}]+)}/g;function uh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Ap(c)&&Ap(f)){if(!uh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ap(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){return i&&i._delegate?i._delegate:i}class Jo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new G_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lE(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aE(i){return i===Ii?void 0:i}function lE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const cE={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},hE=ke.INFO,fE={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},dE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=fE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=hE,this._logHandler=dE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const pE=(i,e)=>e.some(n=>i instanceof n);let Pp,kp;function mE(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gE(){return kp||(kp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qm=new WeakMap,ch=new WeakMap,Km=new WeakMap,Yc=new WeakMap,Uh=new WeakMap;function yE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(jr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Qm.set(n,i)}).catch(()=>{}),Uh.set(e,i),e}function vE(i){if(ch.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ch.set(i,e)}let hh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ch.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Km.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _E(i){hh=i(hh)}function EE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Xc(this),e,...n);return Km.set(s,e.sort?e.sort():[e]),jr(s)}:gE().includes(i)?function(...e){return i.apply(Xc(this),e),jr(Qm.get(this))}:function(...e){return jr(i.apply(Xc(this),e))}}function wE(i){return typeof i=="function"?EE(i):(i instanceof IDBTransaction&&vE(i),pE(i,mE())?new Proxy(i,hh):i)}function jr(i){if(i instanceof IDBRequest)return yE(i);if(Yc.has(i))return Yc.get(i);const e=wE(i);return e!==i&&(Yc.set(i,e),Uh.set(e,i)),e}const Xc=i=>Uh.get(i);function TE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(jr(f.result),y.oldVersion,y.newVersion,jr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const SE=["get","getKey","getAll","getAllKeys","count"],IE=["put","add","delete","clear"],Jc=new Map;function xp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jc.get(e))return Jc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=IE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||SE.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&y.done]))[0]};return Jc.set(e,c),c}_E(i=>({...i,get:(e,n,s)=>xp(e,n)||i.get(e,n,s),has:(e,n)=>!!xp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",Dp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Wm("@firebase/app"),AE="@firebase/app-compat",PE="@firebase/analytics-compat",kE="@firebase/analytics",xE="@firebase/app-check-compat",DE="@firebase/app-check",NE="@firebase/auth",VE="@firebase/auth-compat",LE="@firebase/database",OE="@firebase/data-connect",ME="@firebase/database-compat",FE="@firebase/functions",UE="@firebase/functions-compat",zE="@firebase/installations",BE="@firebase/installations-compat",bE="@firebase/messaging",jE="@firebase/messaging-compat",$E="@firebase/performance",qE="@firebase/performance-compat",HE="@firebase/remote-config",WE="@firebase/remote-config-compat",QE="@firebase/storage",KE="@firebase/storage-compat",GE="@firebase/firestore",YE="@firebase/vertexai",XE="@firebase/firestore-compat",JE="firebase",ZE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="[DEFAULT]",ew={[fh]:"fire-core",[AE]:"fire-core-compat",[kE]:"fire-analytics",[PE]:"fire-analytics-compat",[DE]:"fire-app-check",[xE]:"fire-app-check-compat",[NE]:"fire-auth",[VE]:"fire-auth-compat",[LE]:"fire-rtdb",[OE]:"fire-data-connect",[ME]:"fire-rtdb-compat",[FE]:"fire-fn",[UE]:"fire-fn-compat",[zE]:"fire-iid",[BE]:"fire-iid-compat",[bE]:"fire-fcm",[jE]:"fire-fcm-compat",[$E]:"fire-perf",[qE]:"fire-perf-compat",[HE]:"fire-rc",[WE]:"fire-rc-compat",[QE]:"fire-gcs",[KE]:"fire-gcs-compat",[GE]:"fire-fst",[XE]:"fire-fst-compat",[YE]:"fire-vertex","fire-js":"fire-js",[JE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,tw=new Map,ph=new Map;function Np(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ql(i){const e=i.name;if(ph.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;ph.set(e,i);for(const n of Wl.values())Np(n,i);for(const n of tw.values())Np(n,i);return!0}function nw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Hm("app","Firebase",rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=ZE;function Gm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw $r.create("bad-app-name",{appName:String(a)});if(n||(n=qm()),!n)throw $r.create("no-options");const c=Wl.get(a);if(c){if(uh(n,c.options)&&uh(s,c.config))return c;throw $r.create("duplicate-app",{appName:a})}const f=new uE(a);for(const y of ph.values())f.addComponent(y);const m=new iw(n,s,f);return Wl.set(a,m),m}function ow(i=dh){const e=Wl.get(i);if(!e&&i===dh&&qm())return Gm();if(!e)throw $r.create("no-app",{appName:i});return e}function ks(i,e,n){var s;let a=(s=ew[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}Ql(new Jo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebase-heartbeat-database",lw=1,Zo="firebase-heartbeat-store";let Zc=null;function Ym(){return Zc||(Zc=TE(aw,lw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(i=>{throw $r.create("idb-open",{originalErrorMessage:i.message})})),Zc}async function uw(i){try{const n=(await Ym()).transaction(Zo),s=await n.objectStore(Zo).get(Xm(i));return await n.done,s}catch(e){if(e instanceof bs)dr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function Vp(i,e){try{const s=(await Ym()).transaction(Zo,"readwrite");await s.objectStore(Zo).put(e,Xm(i)),await s.done}catch(n){if(n instanceof bs)dr.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function Xm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,hw=30*24*60*60*1e3;class fw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Lp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=hw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lp(),{heartbeatsToSend:s,unsentEntries:a}=dw(this._heartbeatsCache.heartbeats),c=Hl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return dr.warn(n),""}}}function Lp(){return new Date().toISOString().substring(0,10)}function dw(i,e=cw){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Op(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Op(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?tE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Op(i){return Hl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i){Ql(new Jo("platform-logger",e=>new CE(e),"PRIVATE")),Ql(new Jo("heartbeat",e=>new fw(e),"PRIVATE")),ks(fh,Dp,i),ks(fh,Dp,"esm2017"),ks("fire-js","")}mw("");var gw="firebase",yw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(gw,yw,"app");var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,Jm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,N,L){for(var C=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)C[Ze-2]=arguments[Ze];return T.prototype[N].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)k[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)k[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],N=x.g[2];var L=x.g[3],C=T+(L^I&(N^L))+k[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+k[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+k[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+k[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(L^I&(N^L))+k[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+k[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+k[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+k[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(L^I&(N^L))+k[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+k[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+k[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+k[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(L^I&(N^L))+k[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+k[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+k[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+k[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(N^L&(I^N))+k[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+k[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+k[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+k[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(I^N))+k[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+k[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+k[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+k[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(I^N))+k[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+k[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+k[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+k[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(I^N))+k[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+k[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+k[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+k[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(I^N^L)+k[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+k[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+k[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+k[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^L)+k[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+k[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+k[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+k[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^L)+k[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+k[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+k[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+k[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^L)+k[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+k[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+k[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+k[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(N^(I|~L))+k[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+k[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+k[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+k[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~L))+k[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+k[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+k[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+k[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~L))+k[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+k[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+k[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+k[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~L))+k[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+k[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+k[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=I;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(k[N++]=x.charCodeAt(L++),N==this.blockSize){a(this,k),N=0;break}}else for(;L<T;)if(k[N++]=x[L++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function f(x,T){this.h=T;for(var I=[],k=!0,N=x.length-1;0<=N;N--){var L=x[N]|0;k&&L==T||(I[N]=L,k=!1)}this.g=I}var m={};function y(x){return-128<=x&&128>x?c(x,function(T){return new f([T|0],0>T?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return b(_(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new f(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return b(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),k=R,N=0;N<x.length;N+=8){var L=Math.min(8,x.length-N),C=parseInt(x.substring(N,N+L),T);8>L?(L=_(Math.pow(T,L)),k=k.j(L).add(_(C))):(k=k.j(I),k=k.add(_(C)))}return k}var R=y(0),P=y(1),U=y(16777216);i=f.prototype,i.m=function(){if($(this))return-b(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if($(this))return"-"+b(this).toString(x);for(var T=_(Math.pow(x,6)),I=this,k="";;){var N=he(I,T).g;I=G(I,N.j(T));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=N,B(I))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=G(this,x),$(x)?-1:B(x)?0:1};function b(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new f(I,~x.h).add(P)}i.abs=function(){return $(this)?b(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,N=0;N<=T;N++){var L=k+(this.i(N)&65535)+(x.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);k=C>>>16,L&=65535,C&=65535,I[N]=C<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function G(x,T){return x.add(b(T))}i.j=function(x){if(B(this)||B(x))return R;if($(this))return $(x)?b(this).j(b(x)):b(b(this).j(x));if($(x))return b(this.j(b(x)));if(0>this.l(U)&&0>x.l(U))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<x.g.length;N++){var L=this.i(k)>>>16,C=this.i(k)&65535,Ze=x.i(N)>>>16,At=x.i(N)&65535;I[2*k+2*N]+=C*At,X(I,2*k+2*N),I[2*k+2*N+1]+=L*At,X(I,2*k+2*N+1),I[2*k+2*N+1]+=C*Ze,X(I,2*k+2*N+1),I[2*k+2*N+2]+=L*Ze,X(I,2*k+2*N+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new f(I,0)};function X(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function oe(x,T){this.g=x,this.h=T}function he(x,T){if(B(T))throw Error("division by zero");if(B(x))return new oe(R,R);if($(x))return T=he(b(x),T),new oe(b(T.g),b(T.h));if($(T))return T=he(x,b(T)),new oe(b(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=P,k=T;0>=k.l(x);)I=Ie(I),k=Ie(k);var N=Ee(I,1),L=Ee(k,1);for(k=Ee(k,2),I=Ee(I,2);!B(k);){var C=L.add(k);0>=C.l(x)&&(N=N.add(I),L=C),k=Ee(k,1),I=Ee(I,1)}return T=G(x,N.j(T)),new oe(N,T)}for(N=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=_(I),C=L.j(T);$(C)||0<C.l(x);)I-=k,L=_(I),C=L.j(T);B(L)&&(L=P),N=N.add(L),x=G(x,C)}return new oe(N,x)}i.A=function(x){return he(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new f(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new f(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new f(I,this.h^x.h)};function Ie(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(I,x.h)}function Ee(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,N=[],L=0;L<k;L++)N[L]=0<T?x.i(L+I)>>>T|x.i(L+I+1)<<32-T:x.i(L+I);return new f(N,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Jm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,Ai=f}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zm,qo,eg,zl,mh,tg,ng,rg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dl=="object"&&Dl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in g))break e;g=g[O]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,O={next:function(){if(!E&&g<l.length){var j=g++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function R(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function P(l,d,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,P.apply(null,arguments)}function U(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function B(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,O,j){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return d.prototype[O].apply(E,Z)}}function $(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function b(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const O=l.length||0,j=E.length||0;l.length=O+j;for(let Z=0;Z<j;Z++)l[O+Z]=E[Z]}else l.push(E)}}class G{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(l){return/^[\s\xa0]*$/.test(l)}function oe(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function he(l){return he[" "](l),l}he[" "]=function(){};var Ie=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Ee(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function x(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function T(l){const d={};for(const g in l)d[g]=l[g];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(g in E)l[g]=E[g];for(let j=0;j<I.length;j++)g=I[j],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function C(){var l=fe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const E=At.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var At=new G(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ee=!1,fe=new Ze,re=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(V)}};var V=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){L(g)}var d=At;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ee=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Te(l,d){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ie){e:{try{he(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}B(Te,ce);var Re={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,d,g,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=O,this.key=++Me,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Kn(l){this.src=l,this.g={},this.h=0}Kn.prototype.add=function(l,d,g,E,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var Z=mr(l,d,E,O);return-1<Z?(d=l[Z],g||(d.fa=!1)):(d=new Be(d,this.src,j,!!E,O),d.fa=g,l.push(d)),d};function Vi(l,d){var g=d.type;if(g in l.g){var E=l.g[g],O=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=O)&&Array.prototype.splice.call(E,O,1),j&&(mt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,d,g,E){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==d&&j.capture==!!g&&j.ha==E)return O}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),Li={};function Ws(l,d,g,E,O){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Ws(l,d[j],g,E,O);return null}return g=Gs(g),l&&l[Oe]?l.K(d,g,_(E)?!!E.capture:!1,O):Qs(l,d,g,!1,E,O)}function Qs(l,d,g,E,O,j){if(!d)throw Error("Invalid event type");var Z=_(O)?!!O.capture:!!O,Fe=Mi(l);if(Fe||(l[Yr]=Fe=new Kn(l)),g=Fe.add(d,g,E,Z,j),g.proxy)return g;if(E=da(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)we||(O=Z),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent(Yn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function da(){function l(g){return d.call(l.src,l.listener,g)}const d=Ks;return l}function Oi(l,d,g,E,O){if(Array.isArray(d))for(var j=0;j<d.length;j++)Oi(l,d[j],g,E,O);else E=_(E)?!!E.capture:!!E,g=Gs(g),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],g=mr(j,g,E,O),-1<g&&(mt(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=Mi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,g,E,O)),(g=-1<l?d[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Vi(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Yn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=Mi(d))?(Vi(g,l),g.h==0&&(g.src=null,d[Yr]=null)):mt(l)}}}function Yn(l){return l in Li?Li[l]:Li[l]="on"+l}function Ks(l,d){if(l.da)l=!0;else{d=new Te(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Gn(l),l=g.call(E,d)}return l}function Mi(l){return l=l[Yr],l instanceof Kn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(d){return l.handleEvent(d)}),l[Fi])}function lt(){H.call(this),this.i=new Kn(this),this.M=this,this.F=null}B(lt,H),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(l,d,g,E){Oi(this,l,d,g,E)};function ut(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ce(d,l);else if(d instanceof ce)d.target=d.target||l;else{var O=d;d=new ce(E,l),k(d,O)}if(O=!0,g)for(var j=g.length-1;0<=j;j--){var Z=d.g=g[j];O=Xn(Z,E,!0,d)&&O}if(Z=d.g=l,O=Xn(Z,E,!0,d)&&O,O=Xn(Z,E,!1,d)&&O,g)for(j=0;j<g.length;j++)Z=d.g=g[j],O=Xn(Z,E,!1,d)&&O}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)mt(g[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},lt.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function Xn(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,j=0;j<d.length;++j){var Z=d[j];if(Z&&!Z.da&&Z.capture==g){var Fe=Z.listener,ct=Z.ha||Z.src;Z.fa&&Vi(l.i,Z),O=Fe.call(ct,E)!==!1&&O}}return O&&!E.defaultPrevented}function Ys(l,d,g){if(typeof l=="function")g&&(l=P(l,g));else if(l&&typeof l.handleEvent=="function")l=P(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=Ys(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Xr extends H{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(l){H.call(this),this.h=l,this.g={}}B(Jr,H);var Xs=[];function Js(l){Ee(l.g,function(d,g){this.g.hasOwnProperty(g)&&Gn(d)},l),l.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),Js(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=m.JSON.stringify,eo=m.JSON.parse,to=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function Zr(){}Zr.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ce.call(this,"d")}B(xn,ce);function Bi(){ce.call(this,"c")}B(Bi,ce);var Dn={},no=null;function ei(){return no=no||new lt}Dn.La="serverreachability";function ro(l){ce.call(this,Dn.La,l)}B(ro,ce);function Jn(l){const d=ei();ut(d,new ro(d))}Dn.STAT_EVENT="statevent";function io(l,d){ce.call(this,Dn.STAT_EVENT,l),this.stat=d}B(io,ce);function et(l){const d=ei();ut(d,new io(d,l))}Dn.Ma="timingevent";function bi(l,d){ce.call(this,Dn.Ma,l),this.size=d}B(bi,ce);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function ni(l,d,g,E,O,j){l.info(function(){if(l.g)if(j)for(var Z="",Fe=j.split("&"),ct=0;ct<Fe.length;ct++){var Ae=Fe[ct].split("=");if(1<Ae.length){var gt=Ae[0];Ae=Ae[1];var st=gt.split("_");Z=2<=st.length&&st[1]=="type"?Z+(gt+"="+Ae+"&"):Z+(gt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+g+`
`+Z})}function ji(l,d,g,E,O,j,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+g+`
`+j+" "+Z})}function gn(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+yu(l,g)+(E?" "+E:"")})}function so(l,d){l.info(function(){return"TIMEOUT: "+d})}ti.prototype.info=function(){};function yu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return Zs(g)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ri(){}B(ri,Zr),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},yn=new ri;function vn(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ma}function ma(){this.i=null,this.g="",this.h=!1}var oo={},qi={};function Hi(l,d,g){l.L=1,l.v=wr(Jt(d)),l.m=g,l.P=!0,ao(l,null)}function ao(l,d){l.F=Date.now(),be(l),l.A=Jt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Sr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new ma,l.g=Va(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Xr(P(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Xs[0]=O.toString()),O=Xs);for(var j=0;j<O.length;j++){var Z=Ws(g,O[j],E||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Jn(),ni(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&jt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const st=jt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||st!=4||d==7||(d==8||0>=ln?Jn(3):Jn(2)),ii(this);var g=this.g.Z();this.X=g;t:if(ga(this)){var E=po(this.g);l="";var O=E.length,j=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),yr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,ji(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ct=this.g;if((Fe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Fe)){var Ae=Fe;break t}}Ae=null}if(g=Ae)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,g);else{this.o=!1,this.s=3,et(12),on(this),yr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<Z.length;)if(en=vu(this,Z),en==qi){st==4&&(this.s=4,et(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==oo){this.s=4,et(15),gn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,en,null),lo(this,en);if(ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Z.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,Z,"[Invalid Chunked Response]"),on(this),yr(this);else if(0<Z.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),go(gt),gt.M=!0,et(11))}}else gn(this.i,this.l,Z,null),lo(this,Z);st==4&&on(this),this.o&&!this.J&&(st==4?ns(this.j,this):(this.o=!1,be(this)))}else Xi(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),on(this),yr(this)}}}catch{}finally{}};function ga(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function vu(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?qi:(g=Number(d.substring(g,E)),isNaN(g)?oo:(E+=1,E+g>d.length?qi:(d=d.slice(E,E+g),l.C=E+g,d)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function be(l){l.S=Date.now()+l.I,ya(l,l.I)}function ya(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(P(l.ba,l),d)}function ii(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(so(this.i,this.A),this.L!=2&&(Jn(),et(17)),on(this),this.s=2,yr(this)):ya(this,this.S-l)};function yr(l){l.j.G==0||l.J||ns(l.j,l)}function on(l){ii(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Js(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function lo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Mt(g.h,l))){if(!l.K&&Mt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ts(g),Sn(g);else break e;es(g),et(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(P(g.Za,g),6e3));if(1>=_a(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&ts(g),!X(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let Ae=O[d];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const gt=Ae[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const st=Ae[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const ln=Ae[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const en=l.g;if(en){const hi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var j=E.h;j.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(uo(j,j.h),j.h=null))}if(E.D){const is=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(E.ya=is,ze(E.I,E.D,is))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Z=l;if(E.qa=Na(E,E.J?E.ia:null,E.W),Z.K){Ea(E.h,Z);var Fe=Z,ct=E.L;ct&&(Fe.I=ct),Fe.B&&(ii(Fe),be(Fe)),E.g=Z}else ci(E);0<g.i.length&&On(g)}else Ae[0]!="stop"&&Ae[0]!="close"||rr(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?rr(g,7):Tt(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}Jn(4)}catch{}}var va=class{constructor(l,d){this.g=l,this.map=d}};function si(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _a(l){return l.h?1:l.g?l.g.size:0}function Mt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function uo(l,d){l.g?l.g.add(d):l.h=d}function Ea(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}si.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return $(l.i)}function Wi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Qi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function vr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Qi(l),E=Wi(l),O=E.length,j=0;j<O;j++)d.call(void 0,E[j],g&&g[j],l)}var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _u(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),O=null;if(0<=E){var j=l[g].substring(0,E);O=l[g].substring(E+1)}else j=l[g];d(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,ai(this,l.j),this.o=l.o,this.g=l.g,_r(this,l.s),this.l=l.l;var d=l.i,g=new Nn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=l.m}else l&&(d=String(l).match(oi))?(this.h=!1,ai(this,d[1]||"",!0),this.o=Ce(d[2]||""),this.g=Ce(d[3]||"",!0),_r(this,d[4]),this.l=Ce(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Ce(d[7]||"")):(this.h=!1,this.i=new Nn(null,this.h))}Zn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,Ki,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,Ki,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?Ia:Sa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,co)),l.join("")};function Jt(l){return new Zn(l)}function ai(l,d,g){l.j=g?Ce(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function _r(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,g){d instanceof Nn?(l.i=d,Vn(l.i,l.h)):(g||(d=Tr(d,Ca)),l.i=new Nn(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function wr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ce(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Ta),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ta(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ki=/[#\/\?@]/g,Sa=/[#\?:]/g,Ia=/[#\?]/g,Ca=/[#\?@]/g,co=/#/g;function Nn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function wt(l){l.g||(l.g=new Map,l.h=0,l.i&&_u(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Nn.prototype,i.add=function(l,d){wt(this),this.i=null,l=an(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function _n(l,d){wt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function En(l,d){return wt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){wt(this),this.g.forEach(function(g,E){g.forEach(function(O){l.call(d,O,E,this)},this)},this)},i.na=function(){wt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const O=l[E];for(let j=0;j<O.length;j++)g.push(d[E])}return g},i.V=function(l){wt(this);let d=[];if(typeof l=="string")En(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return wt(this),this.i=null,l=an(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Sr(l,d,g){_n(l,d),0<g.length&&(l.i=null,l.g.set(an(l,d),$(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const j=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var O=j;Z[E]!==""&&(O+="="+encodeURIComponent(String(Z[E]))),l.push(O)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Vn(l,d){d&&!l.j&&(wt(l),l.i=null,l.g.forEach(function(g,E){var O=E.toLowerCase();E!=O&&(_n(this,E),Sr(this,O,g))},l)),l.j=d}function Eu(l,d){const g=new ti;if(m.Image){const E=new Image;E.onload=U(bt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=U(bt,g,"TestLoadImage: error",!1,d,E),E.onabort=U(bt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=U(bt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ra(l,d){const g=new ti,E=new AbortController,O=setTimeout(()=>{E.abort(),bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(O),j.ok?bt(g,"TestPingServer: ok",!0,d):bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),bt(g,"TestPingServer: error",!1,d)})}function bt(l,d,g,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(g)}catch{}}function wu(){this.g=new to}function Aa(l,d,g){const E=g||"";try{vr(l,function(O,j){let Z=O;_(O)&&(Z=Zs(O)),d.push(E+j+"="+encodeURIComponent(Z))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}B(er,Zr),er.prototype.g=function(){return new li(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function li(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(li,lt),i=li.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wn(this):Tn(this),this.readyState==3&&Pa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let d="";return Ee(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Ir(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function He(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(He,lt);var Tu=/^https?$/i,ho=["POST","PUT"];i=He.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Ui(this.o):Ui(yn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){ui(this,j);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)g.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())g.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ho,d,void 0))||E||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of g)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){ui(this,j)}};function ui(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Zt(l)}function Gi(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},i.bb=function(){fo(this)};function fo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Ys(l.Ea,0,l);else if(ut(l,"readystatechange"),jt(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=Z===0){var O=String(l.D).match(oi)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!Tu.test(O?O.toLowerCase():"")}g=E}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<jt(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Gi(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Yi(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{g.onreadystatechange=E}catch{}}}function Yi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),eo(d)}};function po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(l){const d={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(X(l[E]))continue;var g=N(l[E]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=d[O]||[];d[O]=j,j.push(g)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function mo(l){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,l),this.cb=Ln("retryDelaySeedMs",1e4,l),this.Wa=Ln("forwardChannelMaxRetries",2,l),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new si(l&&l.concurrentRequestLimit),this.Da=new wu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=mo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){et(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Na(this,null,this.W),On(this)};function Tt(l){if(Ji(l),l.G==3){var d=l.U++,g=Jt(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),nr(l,g),d=new vn(l,l.j,d),d.L=2,d.v=wr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Va(d.j,null),d.g.ea(d.v)),d.F=Date.now(),be(d)}Da(l)}function Sn(l){l.g&&(go(l),l.g.cancel(),l.g=null)}function Ji(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function On(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||re(),ee||(Ue(),ee=!0),fe.add(d,l),l.B=0}}function Su(l,d){return _a(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(P(l.Ga,l,d),xa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new vn(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Cr(this,O,d),g=Jt(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),nr(this,g),j&&(this.O?d="headers="+encodeURIComponent(String(tr(j)))+"&"+d:this.m&&Ir(g,this.m,j)),uo(this.h,O),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),O.T=!0,Hi(O,g,null)):Hi(O,g,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Xt(this.h)||Zi(this))};function Zi(l,d){var g;d?g=d.l:g=l.U++;const E=Jt(l.I);ze(E,"SID",l.K),ze(E,"RID",g),ze(E,"AID",l.T),nr(l,E),l.m&&l.o&&Ir(E,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Cr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uo(l.h,g),Hi(g,E,d)}function nr(l,d){l.H&&Ee(l.H,function(g,E){ze(d,E,g)}),l.l&&vr({},function(g,E){ze(d,E,g)})}function Cr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?P(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const Z=["count="+g];j==-1?0<g?(j=O[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Fe=!0;for(let ct=0;ct<g;ct++){let Ae=O[ct].g;const gt=O[ct].map;if(Ae-=j,0>Ae)j=Math.max(0,O[ct].g-100),Fe=!1;else try{Aa(gt,Z,"req"+Ae+"_")}catch{E&&E(gt)}}if(Fe){E=Z.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function ci(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||re(),ee||(Ue(),ee=!0),fe.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(P(l.Fa,l),xa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(P(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Sn(this),ka(this))};function go(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function ka(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),nr(l,d),l.m&&l.o&&Ir(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(Jt(d)),g.m=null,g.P=!0,ao(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),es(this),et(19))};function ts(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ns(l,d){var g=null;if(l.g==d){ts(l),go(l),l.g=null;var E=2}else if(Mt(l.h,d))g=d.D,Ea(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=ei(),ut(E,new bi(E,g)),On(l)}else ci(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&Su(l,d)||E==2&&es(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),O){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function xa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function rr(l,d){if(l.j.info("Error code "+d),d==2){var g=P(l.fb,l),E=l.Xa;const O=!E;E=new Zn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ai(E,"https"),wr(E),O?Eu(E.toString(),g):Ra(E.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),Da(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Da(l){if(l.G=0,l.ka=[],l.l){const d=wa(l.h);(d.length!=0||l.i.length!=0)&&(b(l.ka,d),b(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Na(l,d,g){var E=g instanceof Zn?Jt(g):new Zn(g);if(E.g!="")d&&(E.g=d+"."+E.g),_r(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var j=new Zn(null);E&&ai(j,E),d&&(j.g=d),O&&_r(j,O),g&&(j.l=g),E=j}return g=l.D,d=l.ya,g&&d&&ze(E,g,d),ze(E,"VER",l.la),nr(l,E),E}function Va(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new He(new er({eb:g})):new He(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}i=yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){lt.call(this),this.g=new mo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!X(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Mn(this)}B(Ft,lt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Tt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Zs(l),l=g);d.i.push(new va(d.Ya++,l)),d.G==3&&On(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Ft.aa.N.call(this)};function La(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}B(La,xn);function Oa(){Bi.call(this),this.status=1}B(Oa,Bi);function Mn(l){this.g=l}B(Mn,yo),Mn.prototype.ua=function(){ut(this.g,"a")},Mn.prototype.ta=function(l){ut(this.g,new La(l))},Mn.prototype.sa=function(l){ut(this.g,new Oa)},Mn.prototype.ra=function(){ut(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,rg=function(){return new rs},ng=function(){return ei()},tg=Dn,mh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,zl=$i,pa.COMPLETE="complete",eg=pa,zi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,qo=zi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Zm=He}).apply(typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{});const Fp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Wm("@firebase/firestore");function Cs(){return xi.logLevel}function ie(i,...e){if(xi.logLevel<=ke.DEBUG){const n=e.map(zh);xi.debug(`Firestore (${js}): ${i}`,...n)}}function pr(i,...e){if(xi.logLevel<=ke.ERROR){const n=e.map(zh);xi.error(`Firestore (${js}): ${i}`,...n)}}function Vs(i,...e){if(xi.logLevel<=ke.WARN){const n=e.map(zh);xi.warn(`Firestore (${js}): ${i}`,...n)}}function zh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Ye(i,e){i||_e()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class _w{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ew{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new ig(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Lt(e)}}class ww{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Tw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new ww(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new Sw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Cw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function Ls(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Yt(0,0))}static max(){return new ve(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(),s===void 0?s=e.length-n:s>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends ea{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const Aw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ea{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return Aw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Je.fromString(e))}static fromName(e){return new ge(Je.fromString(e).popFirst(5))}static empty(){return new ge(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Je(e.slice()))}}function Pw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(s===1e9?new Yt(n+1,0):new Yt(n,s));return new Hr(a,ge.empty(),e)}function kw(i){return new Hr(i.readTime,i.key,-1)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(ve.min(),ge.empty(),-1)}static max(){return new Hr(ve.max(),ge.empty(),-1)}}function xw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==Dw)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Vw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ou.oe=-1;function au(i){return i==null}function gh(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Up(e)),e=Ow(i.get(n),e);return Up(e)}function Ow(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Up(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ua(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Mw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nl(this.root,e,this.comparator,!0)}}class Nl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bp(this.data.getIterator())}getIteratorFrom(e){return new Bp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Bp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Br([])}unionWith(e){let n=new pt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sg("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const Fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Ye(!!i),typeof i=="string"){let e=0;const n=Fw.exec(i);if(Ye(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lu(i){const e=i.mapValue.fields.__previous_value__;return Bh(e)?lu(e):e}function ta(i){const e=Wr(i.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,s,a,c,f,m,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bh(i)?4:Bw(i)?9007199254740991:zw(i)?10:11:_e()}function qn(i,e){if(i===e)return!0;const n=Kr(i);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ta(i).isEqual(ta(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Wr(a.timestampValue),m=Wr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Qr(a.bytesValue).isEqual(Qr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ls(i.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(zp(f)!==zp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!qn(f[y],m[y])))return!1;return!0}(i,e);default:return _e()}}function ra(i,e){return(i.values||[]).find(n=>qn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Kr(i),s=Kr(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return bp(i.timestampValue,e.timestampValue);case 4:return bp(ta(i),ta(e));case 5:return xe(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Qr(c),y=Qr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const w=xe(m[_],y[_]);if(w!==0)return w}return xe(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=xe(nt(c.latitude),nt(f.latitude));return m!==0?m:xe(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return jp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,_,w;const R=c.fields||{},P=f.fields||{},U=(m=R.value)===null||m===void 0?void 0:m.arrayValue,B=(y=P.value)===null||y===void 0?void 0:y.arrayValue,$=xe(((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0,((w=B==null?void 0:B.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:jp(U,B)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Vl.mapValue&&f===Vl.mapValue)return 0;if(c===Vl.mapValue)return 1;if(f===Vl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=f.fields||{},w=Object.keys(_);y.sort(),w.sort();for(let R=0;R<y.length&&R<w.length;++R){const P=xe(y[R],w[R]);if(P!==0)return P;const U=Os(m[y[R]],_[w[R]]);if(U!==0)return U}return xe(y.length,w.length)}(i.mapValue,e.mapValue);default:throw _e()}}function bp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=Wr(i),s=Wr(e),a=xe(n.seconds,s.seconds);return a!==0?a:xe(n.nanos,s.nanos)}function jp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return xe(n.length,s.length)}function Ms(i){return yh(i)}function yh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=yh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${yh(n.fields[f])}`;return a+"}"}(i.mapValue):_e()}function Bl(i){switch(Kr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lu(i);return e?16+Bl(e):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Bl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ua(s.fields,(c,f)=>{a+=c.length+Bl(f)}),a}(i.mapValue);default:throw _e()}}function vh(i){return!!i&&"integerValue"in i}function bh(i){return!!i&&"arrayValue"in i}function $p(i){return!!i&&"nullValue"in i}function qp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function zw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ua(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Bw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Bt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];eh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ua(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new bn(Qo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,ve.min(),ve.min(),ve.min(),bn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,ve.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,ve.min(),ve.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,ve.min(),ve.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.position=e,this.inclusive=n}}function Hp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function bw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{}class dt extends og{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $w(e,n,s):n==="array-contains"?new Ww(e,s):n==="in"?new Qw(e,s):n==="not-in"?new Kw(e,s):n==="array-contains-any"?new Gw(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new qw(e,s):new Hw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends og{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return ag(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ag(i){return i.op==="and"}function lg(i){return jw(i)&&ag(i)}function jw(i){for(const e of i.filters)if(e instanceof Hn)return!1;return!0}function _h(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(lg(i))return i.filters.map(e=>_h(e)).join(",");{const e=i.filters.map(n=>_h(n)).join(",");return`${i.op}(${e})`}}function ug(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&qn(s.value,a.value)}(i,e):i instanceof Hn?function(s,a){return a instanceof Hn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&ug(f,a.filters[m]),!0):!1}(i,e):void _e()}function cg(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(i):i instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(cg).join(" ,")+"}"}(i):"Filter"}class $w extends dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class qw extends dt{constructor(e,n){super(e,"in",n),this.keys=hg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hw extends dt{constructor(e,n){super(e,"not-in",n),this.keys=hg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class Ww extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bh(n)&&ra(n.arrayValue,this.value)}}class Qw extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ra(this.value.arrayValue,n)}}class Kw extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ra(this.value.arrayValue,n)}}class Gw extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ra(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Qp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new Yw(i,e,n,s,a,c,f)}function jh(i){const e=De(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_h(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ms(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ms(s)).join(",")),e.ue=n}return e.ue}function $h(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!bw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ug(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Wp(i.startAt,e.startAt)&&Wp(i.endAt,e.endAt)}function Eh(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Xw(i,e,n,s,a,c,f,m){return new uu(i,e,n,s,a,c,f,m)}function fg(i){return new uu(i)}function Kp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Jw(i){return i.collectionGroup!==null}function Ko(i){const e=De(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new pt(Bt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Gl(c,s))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Gl(Bt.keyField(),s))}return e.ce}function jn(i){const e=De(i);return e.le||(e.le=Zw(e,Ko(i))),e.le}function Zw(i,e){if(i.limitType==="F")return Qp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Gl(a.field,c)});const n=i.endAt?new Kl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kl(i.startAt.position,i.startAt.inclusive):null;return Qp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function wh(i,e,n){return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function cu(i,e){return $h(jn(i),jn(e))&&i.limitType===e.limitType}function dg(i){return`${jh(jn(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>cg(a)).join(", ")}]`),au(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ms(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ms(a)).join(",")),`Target(${s})`}(jn(i))}; limitType=${i.limitType})`}function hu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Ko(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const _=Hp(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,Ko(s),a)||s.endAt&&!function(f,m,y){const _=Hp(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,Ko(s),a))}(i,e)}function e0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pg(i){return(e,n)=>{let s=!1;for(const a of Ko(i)){const c=t0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function t0(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),_=m.data.field(c);return y!==null&&_!==null?Os(y,_):_e()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new it(ge.comparator);function Gr(){return n0}const mg=new it(ge.comparator);function Ho(...i){let e=mg;for(const n of i)e=e.insert(n.key,n);return e}function r0(i){let e=mg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ci(){return Go()}function gg(){return Go()}function Go(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const i0=new pt(ge.comparator);function Ve(...i){let e=i0;for(const n of i)e=e.add(n);return e}const s0=new pt(xe);function o0(){return s0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function l0(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this._=void 0}}function u0(i,e,n){return i instanceof Th?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Bh(c)&&(c=lu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Yl?yg(i,e):i instanceof Xl?vg(i,e):function(a,c){const f=h0(a,c),m=Gp(f)+Gp(a.Pe);return vh(f)&&vh(a.Pe)?l0(m):a0(a.serializer,m)}(i,e)}function c0(i,e,n){return i instanceof Yl?yg(i,e):i instanceof Xl?vg(i,e):n}function h0(i,e){return i instanceof Sh?function(s){return vh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Th extends fu{}class Yl extends fu{constructor(e){super(),this.elements=e}}function yg(i,e){const n=_g(e);for(const s of i.elements)n.some(a=>qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Xl extends fu{constructor(e){super(),this.elements=e}}function vg(i,e){let n=_g(e);for(const s of i.elements)n=n.filter(a=>!qn(a,s));return{arrayValue:{values:n}}}class Sh extends fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gp(i){return nt(i.integerValue||i.doubleValue)}function _g(i){return bh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function f0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Yl&&a instanceof Yl||s instanceof Xl&&a instanceof Xl?Ls(s.elements,a.elements,qn):s instanceof Sh&&a instanceof Sh?qn(s.Pe,a.Pe):s instanceof Th&&a instanceof Th}(i.transform,e.transform)}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function Eg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new p0(i.key,ki.none()):new Hh(i.key,i.data,ki.none());{const n=i.data,s=bn.empty();let a=new pt(Bt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new du(i.key,s,new Br(a.toArray()),ki.none())}}function d0(i,e,n){i instanceof Hh?function(a,c,f){const m=a.value.clone(),y=Xp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof du?function(a,c,f){if(!bl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Xp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(wg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yo(i,e,n,s){return i instanceof Hh?function(c,f,m,y){if(!bl(c.precondition,f))return m;const _=c.value.clone(),w=Jp(c.fieldTransforms,y,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof du?function(c,f,m,y){if(!bl(c.precondition,f))return m;const _=Jp(c.fieldTransforms,y,f),w=f.data;return w.setAll(wg(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return bl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function Yp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ls(s,a,(c,f)=>f0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Hh extends qh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class du extends qh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Xp(i,e,n){const s=new Map;Ye(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,c0(f,m,n[a]))}return s}function Jp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,u0(c,f,e))}return s}class p0 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&d0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=Eg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,s)=>Yp(n,s))&&Ls(this.baseMutations,e.baseMutations,(n,s)=>Yp(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Pe;function Tg(i){if(i===void 0)return pr("GRPC error has no .code"),te.UNKNOWN;switch(i){case at.OK:return te.OK;case at.CANCELLED:return te.CANCELLED;case at.UNKNOWN:return te.UNKNOWN;case at.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case at.INTERNAL:return te.INTERNAL;case at.UNAVAILABLE:return te.UNAVAILABLE;case at.UNAUTHENTICATED:return te.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case at.NOT_FOUND:return te.NOT_FOUND;case at.ALREADY_EXISTS:return te.ALREADY_EXISTS;case at.PERMISSION_DENIED:return te.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case at.ABORTED:return te.ABORTED;case at.OUT_OF_RANGE:return te.OUT_OF_RANGE;case at.UNIMPLEMENTED:return te.UNIMPLEMENTED;case at.DATA_LOSS:return te.DATA_LOSS;default:return _e()}}(Pe=at||(at={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Ai([4294967295,4294967295],0);function Zp(i){const e=v0().encode(i),n=new Jm;return n.update(e),new Uint8Array(n.digest())}function em(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ai([n,s],0),new Ai([a,c],0)]}class Wh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(s<0)throw new Wo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ai.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Ai.fromNumber(s)));return a.compare(_0)===1&&(a=new Ai([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Zp(e),[s,a]=em(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Wh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Zp(e),[s,a]=em(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pu(ve.min(),a,new it(xe),Gr(),Ve())}}class ca{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ca(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Sg{constructor(e,n){this.targetId=e,this.me=n}}class Ig{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class tm{constructor(){this.fe=0,this.ge=nm(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),s=Ve();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_e()}}),new ca(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=nm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class E0{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=Ll(),this.Qe=Ll(),this.Ke=new it(xe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Eh(c))if(s===0){const f=new ge(c.path);this.We(n,f,Ot.newNoDocument(f,ve.min()))}else Ye(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(y){if(y instanceof sg)return Vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Wh(f,a,c)}catch(y){return Vs(y instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&Eh(m.target)){const y=new ge(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ot.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ve();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.Ye(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new pu(e,n,this.Ke,this.ke,s);return this.ke=Gr(),this.qe=Ll(),this.Qe=Ll(),this.Ke=new it(xe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new tm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new pt(xe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(xe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new tm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ll(){return new it(ge.comparator)}function nm(){return new it(ge.comparator)}const w0={asc:"ASCENDING",desc:"DESCENDING"},T0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S0={and:"AND",or:"OR"};class I0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ih(i,e){return i.useProto3Json||au(e)?e:{value:e}}function C0(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function xs(i){return Ye(!!i),ve.fromTimestamp(function(n){const s=Wr(n);return new Yt(s.seconds,s.nanos)}(i))}function A0(i,e){return Ch(i,e).canonicalString()}function Ch(i,e){const n=function(a){return new Je(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cg(i){const e=Je.fromString(i);return Ye(xg(e)),e}function th(i,e){const n=Cg(e);if(n.get(1)!==i.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(Ag(n))}function Rg(i,e){return A0(i.databaseId,e)}function P0(i){const e=Cg(i);return e.length===4?Je.emptyPath():Ag(e)}function rm(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ag(i){return Ye(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function k0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Ye(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Ye(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?te.UNKNOWN:Tg(_.code);return new me(w,_.message||"")}(f);n=new Ig(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=th(i,s.document.name),c=xs(s.document.updateTime),f=s.document.createTime?xs(s.document.createTime):ve.min(),m=new bn({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new jl(_,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=th(i,s.document),c=s.readTime?xs(s.readTime):ve.min(),f=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new jl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=th(i,s.document),c=s.removedTargetIds||[];n=new jl([],c,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new y0(a,c),m=s.targetId;n=new Sg(m,f)}}return n}function x0(i,e){return{documents:[Rg(i,e.path)]}}function D0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Rg(i,a);const c=function(_){if(_.length!==0)return kg(Hn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(P){return{field:As(P.field),direction:L0(P.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ih(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function N0(i){let e=P0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const P=Pg(R);return P instanceof Hn&&lg(P)?P.getFilters():[P]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(P=>function(B){return new Gl(Ps(B.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(P))}(n.orderBy));let m=null;n.limit&&(m=function(R){let P;return P=typeof R=="object"?R.value:R,au(P)?null:P}(n.limit));let y=null;n.startAt&&(y=function(R){const P=!!R.before,U=R.values||[];return new Kl(U,P)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const P=!R.before,U=R.values||[];return new Kl(U,P)}(n.endAt)),Xw(e,a,f,c,m,"F",y,_)}function V0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ps(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ps(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Ps(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>Pg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(i):_e()}function L0(i){return w0[i]}function O0(i){return T0[i]}function M0(i){return S0[i]}function As(i){return{fieldPath:i.canonicalString()}}function Ps(i){return Bt.fromServerFormat(i.fieldPath)}function kg(i){return i instanceof dt?function(n){if(n.op==="=="){if(qp(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if($p(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qp(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if($p(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:O0(n.op),value:n.value}}}(i):i instanceof Hn?function(n){const s=n.getFilters().map(a=>kg(a));return s.length===1?s[0]:{compositeFilter:{op:M0(n.op),filters:s}}}(i):_e()}function xg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s,a,c=ve.min(),f=ve.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.ht=e}}function U0(i){const e=N0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ln=new B0}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Hr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class B0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt(Je.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Fs(0)}static Qn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm([i,e],[n,s]){const a=xe(i,n);return a===0?xe(e,s):a}class b0{constructor(e){this.Gn=e,this.buffer=new pt(sm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await su(n)}await this.Yn(3e5)})}}class $0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(ou.oe);const s=new b0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(im)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),im):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,f=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),Cs()<=ke.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(_-y)+`ms
Total Duration: ${_-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function q0(i,e){return new $0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Yo(s.mutation,a,Br.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=Ci();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Ho();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Gr();const f=Go(),m=function(){return Go()}();return n.forEach((y,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof du)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),Yo(w.mutation,_,w.mutation.getFieldMask(),Yt.now())):f.set(_.key,Br.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>{var R;return m.set(_,new W0(w,(R=f.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Go();let a=new it((f,m)=>f-m),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let w=s.get(y)||Br.empty();w=m.applyToLocalView(_,w),s.set(y,w);const R=(a.get(m.batchId)||Ve()).add(y);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,w=y.value,R=gg();w.forEach(P=>{if(!c.has(P)){const U=Eg(n.get(P),s.get(P));U!==null&&R.set(P,U),c=c.add(P)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Ci());let m=-1,y=c;return f.next(_=>W.forEach(_,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(P=>{y=y.insert(w,P)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,Ve())).next(w=>({batchId:m,changes:r0(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=Ho();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Ho();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,y=>{const _=function(R,P){return new uu(P,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,P)=>{f=f.insert(R,P)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Ot.newInvalidDocument(w)))});let m=Ho();return f.forEach((y,_)=>{const w=c.get(y);w!==void 0&&Yo(w.mutation,_,Br.empty(),Yt.now()),hu(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:xs(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:U0(a.bundledQuery),readTime:xs(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.overlays=new it(ge.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ci();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Ci(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new it((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=Ci(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Ci(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new g0(n,s));let c=this.Er.get(n);c===void 0&&(c=Ve(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.dr=new pt(Et.Ar),this.Rr=new pt(Et.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Et(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Et(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ge(new Je([])),s=new Et(n,e),a=new Et(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ge(new Je([])),s=new Et(n,e),a=new Et(n,e+1);let c=Ve();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Et(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ge.comparator(e.key,n.key)||xe(e.br,n.br)}static Vr(e,n){return xe(e.br,n.br)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new pt(Et.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new m0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Et(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),a=new Et(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(xe);return n.forEach(a=>{const c=new Et(a,0),f=new Et(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const f=new Et(new ge(c),0);let m=new pt(xe);return this.vr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.br)),!0)},f),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const c=new Et(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Et(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.Nr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=Gr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Gr();const f=n.path,m=new ge(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:w}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||xw(kw(w),s)<=0||(a.has(w.key)||hu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){_e()}Lr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Z0(this)}getSize(e){return W.resolve(this.size)}}class Z0 extends H0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.persistence=e,this.Br=new Ni(n=>jh(n),$h),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Qh,this.targetCount=0,this.Qr=Fs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ou(0),this.Ur=!1,this.Ur=!0,this.Wr=new Y0,this.referenceDelegate=e(this),this.Gr=new eT(this),this.indexManager=new z0,this.remoteDocumentCache=function(a){return new J0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new F0(n),this.jr=new K0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new X0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const a=new tT(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class tT extends Nw{constructor(e){super(),this.currentSequenceNumber=e}}class Kh{constructor(e){this.persistence=e,this.Zr=new Qh,this.Xr=null}static ei(e){return new Kh(e)}get ti(){if(this.Xr)return this.Xr;throw _e()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ge.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,ve.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jl{constructor(e,n){this.persistence=e,this.ri=new Ni(s=>Lw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=q0(this,n)}static ei(e,n){return new Jl(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,ve.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ve(),a=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Gh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Z_()?8:Vw(X_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new nT;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Cs()<=ke.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Cs()<=ke.DEBUG&&ie("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Cs()<=ke.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):W.resolve())}Xi(e,n){if(Kp(n))return W.resolve(null);let s=jn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=wh(n,null,"F"),s=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ve(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.rs(n,m);return this.ss(n,_,f,y.readTime)?this.Xi(e,wh(n,null,"F")):this.os(e,_,n,y)}))})))}es(e,n,s,a){return Kp(n)||a.isEqual(ve.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?W.resolve(null):(Cs()<=ke.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.os(e,f,n,Pw(a,-1)).next(m=>m))})}rs(e,n){let s=new pt(pg(e));return n.forEach((a,c)=>{hu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Cs()<=ke.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Hr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new it(xe),this.cs=new Ni(c=>jh(c),$h),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function sT(i,e,n,s){return new iT(i,e,n,s)}async function Ng(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ve();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function Vg(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function oT(i,e){const n=De(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const P=a.get(R);if(!P)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let U=P.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?U=U.withResumeToken(Rt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):w.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(w.resumeToken,s)),a=a.insert(R,U),function($,b,G){return $.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(P,U,w)&&m.push(n.Gr.updateTargetData(c,U))});let y=Gr(),_=Ve();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(aT(c,f,e.documentUpdates).next(w=>{y=w.Is,_=w.Es})),!s.isEqual(ve.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.us=a,c))}function aT(i,e,n){let s=Ve(),a=Ve();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Gr();return n.forEach((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ie("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{Is:f,Es:a}})}function lT(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Rh(i,e,n){const s=De(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!$s(f))throw f;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function om(i,e,n){const s=De(i);let a=ve.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,w){const R=De(y),P=R.cs.get(w);return P!==void 0?W.resolve(R.us.get(P)):R.Gr.getTargetData(_,w)}(s,f,jn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:ve.min(),n?c:Ve())).next(m=>(uT(s,e0(e),m),{documents:m,ds:c})))}function uT(i,e,n){let s=i.ls.get(e)||ve.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class am{constructor(){this.activeTargetIds=o0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cT{constructor(){this._o=new am,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new am,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=null;function nh(){return Ol===null?Ol=function(){return 268435456+Math.round(2147483648*Math.random())}():Ol++,"0x"+Ol.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class pT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=nh(),y=this.No(n,s.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,c,f),this.Bo(n,y,_,a).then(w=>(ie("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Vs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=fT[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=nh();return new Promise((f,m)=>{const y=new Zm;y.setWithCredentials(!0),y.listenOnce(eg.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case zl.NO_ERROR:const w=y.getResponseJson();ie(Vt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case zl.TIMEOUT:ie(Vt,`RPC '${e}' ${c} timed out`),m(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case zl.HTTP_ERROR:const R=y.getStatus();if(ie(Vt,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P==null?void 0:P.error;if(U&&U.status&&U.message){const B=function(b){const G=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(U.status);m(new me(B,U.message))}else m(new me(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new me(te.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ie(Vt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ie(Vt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",_,s,15)})}qo(e,n,s){const a=nh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rg(),m=ng(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");ie(Vt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const R=f.createWebChannel(w,y);let P=!1,U=!1;const B=new dT({Eo:b=>{U?ie(Vt,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(P||(ie(Vt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),P=!0),ie(Vt,`RPC '${e}' stream ${a} sending:`,b),R.send(b))},Ao:()=>R.close()}),$=(b,G,X)=>{b.listen(G,oe=>{try{X(oe)}catch(he){setTimeout(()=>{throw he},0)}})};return $(R,qo.EventType.OPEN,()=>{U||(ie(Vt,`RPC '${e}' stream ${a} transport opened.`),B.So())}),$(R,qo.EventType.CLOSE,()=>{U||(U=!0,ie(Vt,`RPC '${e}' stream ${a} transport closed`),B.Do())}),$(R,qo.EventType.ERROR,b=>{U||(U=!0,Vs(Vt,`RPC '${e}' stream ${a} transport errored:`,b),B.Do(new me(te.UNAVAILABLE,"The operation could not be completed")))}),$(R,qo.EventType.MESSAGE,b=>{var G;if(!U){const X=b.data[0];Ye(!!X);const oe=X,he=(oe==null?void 0:oe.error)||((G=oe[0])===null||G===void 0?void 0:G.error);if(he){ie(Vt,`RPC '${e}' stream ${a} received error:`,he);const Ie=he.status;let Ee=function(I){const k=at[I];if(k!==void 0)return Tg(k)}(Ie),x=he.message;Ee===void 0&&(Ee=te.INTERNAL,x="Unknown error status: "+Ie+" with message "+he.message),U=!0,B.Do(new me(Ee,x)),R.close()}else ie(Vt,`RPC '${e}' stream ${a} received:`,X),B.vo(X)}}),$(m,tg.STAT_EVENT,b=>{b.stat===mh.PROXY?ie(Vt,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===mh.NOPROXY&&ie(Vt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{B.bo()},0),B}}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i){return new I0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Og(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new me(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gT extends mT{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=k0(this.serializer,e),s=function(c){if(!("targetChange"in c))return ve.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?xs(f.readTime):ve.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=Eh(y)?{documents:x0(c,y)}:{query:D0(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=R0(c,f.resumeToken);const _=Ih(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=C0(c,f.snapshotVersion.toTimestamp());const _=Ih(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=V0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,Ch(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(te.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,Ch(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(te.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class vT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pr(n),this.C_=!1):ie("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{fa(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(y){const _=De(y);_.k_.add(4),await ha(_),_.K_.set("Unknown"),_.k_.delete(4),await mu(_)}(this))})}),this.K_=new vT(s,a)}}async function mu(i){if(fa(i))for(const e of i.q_)await e(!0)}async function ha(i){for(const e of i.q_)await e(!1)}function Mg(i,e){const n=De(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Zh(n)?Jh(n):qs(n).s_()&&Xh(n,e))}function Yh(i,e){const n=De(i),s=qs(n);n.B_.delete(e),s.s_()&&Fg(n,e),n.B_.size===0&&(s.s_()?s.a_():fa(n)&&n.K_.set("Unknown"))}function Xh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(i).V_(e)}function Fg(i,e){i.U_.xe(e),qs(i).m_(e)}function Jh(i){i.U_=new E0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),qs(i).start(),i.K_.F_()}function Zh(i){return fa(i)&&!qs(i).i_()&&i.B_.size>0}function fa(i){return De(i).k_.size===0}function Ug(i){i.U_=void 0}async function ET(i){i.K_.set("Online")}async function wT(i){i.B_.forEach((e,n)=>{Xh(i,e)})}async function TT(i,e){Ug(i),Zh(i)?(i.K_.O_(e),Jh(i)):i.K_.set("Unknown")}async function ST(i,e,n){if(i.K_.set("Online"),e instanceof Ig&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await um(i,s)}else if(e instanceof jl?i.U_.$e(e):e instanceof Sg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(ve.min()))try{const s=await Vg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.B_.get(_);w&&c.B_.set(_,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const w=c.B_.get(y);if(!w)return;c.B_.set(y,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),Fg(c,y);const R=new br(w.target,y,_,w.sequenceNumber);Xh(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ie("RemoteStore","Failed to raise snapshot:",s),await um(i,s)}}async function um(i,e,n){if(!$s(e))throw e;i.k_.add(1),await ha(i),i.K_.set("Offline"),n||(n=()=>Vg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await mu(i)})}async function cm(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const s=fa(n);n.k_.add(3),await ha(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await mu(n)}async function IT(i,e){const n=De(i);e?(n.k_.delete(2),await mu(n)):e||(n.k_.add(2),await ha(n),n.K_.set("Unknown"))}function qs(i){return i.W_||(i.W_=function(n,s,a){const c=De(n);return c.b_(),new gT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:ET.bind(null,i),mo:wT.bind(null,i),po:TT.bind(null,i),R_:ST.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Zh(i)?Jh(i):i.K_.set("Unknown")):(await i.W_.stop(),Ug(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new ef(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(i,e){if(pr("AsyncQueue",`${e}: ${i}`),$s(i))return new me(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ho(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.z_=new it(ge.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):_e():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Us{constructor(e,n,s,a,c,f,m,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Us(e,n,Ds.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class RT{constructor(){this.queries=fm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=De(n),c=a.queries;a.queries=fm(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function fm(){return new Ni(i=>dg(i),cu)}async function AT(i,e){const n=De(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new CT,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=zg(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&tf(n)}async function PT(i,e){const n=De(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kT(i,e){const n=De(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&tf(n)}function xT(i,e,n){const s=De(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function tf(i){i.X_.forEach(e=>{e.next()})}var Ah,dm;(dm=Ah||(Ah={})).na="default",dm.Cache="cache";class DT{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ah.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.key=e}}class bg{constructor(e){this.key=e}}class NT{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=pg(e),this.ma=new Ds(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new hm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const P=a.get(w),U=hu(this.query,R)?R:null,B=!!P&&this.mutatedKeys.has(P.key),$=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let b=!1;P&&U?P.data.isEqual(U.data)?B!==$&&(s.track({type:3,doc:U}),b=!0):this.ya(P,U)||(s.track({type:2,doc:U}),b=!0,(y&&this.Va(U,y)>0||_&&this.Va(U,_)<0)&&(m=!0)):!P&&U?(s.track({type:0,doc:U}),b=!0):P&&!U&&(s.track({type:1,doc:P}),b=!0,(y||_)&&(m=!0)),b&&(U?(f=f.add(U),c=$?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,R)=>function(U,B){const $=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return $(U)-$(B)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,_=y!==this.Aa;return this.Aa=y,f.length!==0||_?{snapshot:new Us(this.query,e.ma,c,f,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new hm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new bg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Bg(s))}),n}va(e){this.da=e.ds,this.Ra=Ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Us.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class VT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LT{constructor(e){this.key=e,this.Fa=!1}}class OT{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Ni(m=>dg(m),cu),this.Oa=new Map,this.Na=new Set,this.La=new it(ge.comparator),this.Ba=new Map,this.ka=new Qh,this.qa={},this.Qa=new Map,this.Ka=Fs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function MT(i,e,n=!0){const s=Wg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await jg(s,e,n,!0),a}async function FT(i,e){const n=Wg(i);await jg(n,e,!0,!1)}async function jg(i,e,n,s){const a=await lT(i.localStore,jn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await UT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Mg(i.remoteStore,a),m}async function UT(i,e,n,s,a){i.Ua=(R,P,U)=>async function($,b,G,X){let oe=b.view.ga(G);oe.ss&&(oe=await om($.localStore,b.query,!1).then(({documents:x})=>b.view.ga(x,oe)));const he=X&&X.targetChanges.get(b.targetId),Ie=X&&X.targetMismatches.get(b.targetId)!=null,Ee=b.view.applyChanges(oe,$.isPrimaryClient,he,Ie);return mm($,b.targetId,Ee.ba),Ee.snapshot}(i,R,P,U);const c=await om(i.localStore,e,!0),f=new NT(e,c.ds),m=f.ga(c.documents),y=ca.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,y);mm(i,n,_.ba);const w=new VT(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function zT(i,e,n){const s=De(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!cu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Rh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Yh(s.remoteStore,a.targetId),Ph(s,a.targetId)}).catch(su)):(Ph(s,a.targetId),await Rh(s.localStore,a.targetId,!0))}async function BT(i,e){const n=De(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yh(n.remoteStore,s.targetId))}async function $g(i,e){const n=De(i);try{const s=await oT(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Ye(f.Fa):a.removedDocuments.size>0&&(Ye(f.Fa),f.Fa=!1))}),await Hg(n,s,e)}catch(s){await su(s)}}function pm(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=De(f);y.onlineState=m;let _=!1;y.queries.forEach((w,R)=>{for(const P of R.J_)P.ea(m)&&(_=!0)}),_&&tf(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bT(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new it(ge.comparator);f=f.insert(c,Ot.newNoDocument(c,ve.min()));const m=Ve().add(c),y=new pu(ve.min(),new Map,new it(xe),f,m);await $g(s,y),s.La=s.La.remove(c),s.Ba.delete(e),nf(s)}else await Rh(s.localStore,e,!1).then(()=>Ph(s,e,n)).catch(su)}function Ph(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||qg(i,s)})}function qg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Yh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),nf(i))}function mm(i,e,n){for(const s of n)s instanceof Bg?(i.ka.addReference(s.key,e),jT(i,s)):s instanceof bg?(ie("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||qg(i,s.key)):_e()}function jT(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ie("SyncEngine","New document in limbo: "+n),i.Na.add(s),nf(i))}function nf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ge(Je.fromString(e)),s=i.Ka.next();i.Ba.set(s,new LT(n)),i.La=i.La.insert(n,s),Mg(i.remoteStore,new br(jn(fg(n.path)),s,"TargetPurposeLimboResolution",ou.oe))}}async function Hg(i,e,n){const s=De(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(_){a.push(_);const R=Gh.zi(y.targetId,_);c.push(R)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,_){const w=De(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(_,P=>W.forEach(P.Wi,U=>w.persistence.referenceDelegate.addReference(R,P.targetId,U)).next(()=>W.forEach(P.Gi,U=>w.persistence.referenceDelegate.removeReference(R,P.targetId,U)))))}catch(R){if(!$s(R))throw R;ie("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const P=R.targetId;if(!R.fromCache){const U=w.us.get(P),B=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(B);w.us=w.us.insert(P,$)}}}(s.localStore,c))}async function $T(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const s=await Ng(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new me(te.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hg(n,s.Ts)}}function qT(i,e){const n=De(i),s=n.Ba.get(e);if(s&&s.Fa)return Ve().add(s.key);{let a=Ve();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Wg(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$g.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bT.bind(null,e),e.Ma.R_=kT.bind(null,e.eventManager),e.Ma.Wa=xT.bind(null,e.eventManager),e}class Zl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return sT(this.persistence,new rT,e.initialUser,this.serializer)}ja(e){return new Dg(Kh.ei,this.serializer)}za(e){return new cT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zl.provider={build:()=>new Zl};class HT extends Zl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ye(this.persistence.referenceDelegate instanceof Jl);const s=this.persistence.referenceDelegate.garbageCollector;return new j0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Dg(s=>Jl.ei(s,n),this.serializer)}}class kh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$T.bind(null,this.syncEngine),await IT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RT}()}createDatastore(e){const n=Lg(e.databaseInfo.databaseId),s=function(c){return new pT(c)}(e.databaseInfo);return function(c,f,m,y){return new yT(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new _T(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>pm(this.syncEngine,n,0),function(){return lm.p()?new lm:new hT}())}createSyncEngine(e,n){return function(a,c,f,m,y,_,w){const R=new OT(a,c,f,m,y,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=De(a);ie("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ha(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kh.provider={build:()=>new kh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ie("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ie("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ih(i,e){i.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Ng(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function gm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await KT(i);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>cm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>cm(e.remoteStore,a)),i._onlineComponents=e}async function KT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await ih(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),await ih(i,new Zl)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await ih(i,new HT(void 0));return i._offlineComponents}async function GT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await gm(i,i._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await gm(i,new kh))),i._onlineComponents}async function YT(i){const e=await GT(i),n=e.eventManager;return n.onListen=MT.bind(null,e.syncEngine),n.onUnlisten=zT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BT.bind(null,e.syncEngine),n}function XT(i,e,n={}){const s=new Pi;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,_){const w=new WT({next:P=>{w.eu(),f.enqueueAndForget(()=>PT(c,R)),P.fromCache&&y.source==="server"?_.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),R=new DT(m,w,{includeMetadataChanges:!0,ua:!0});return AT(c,R)}(await YT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Map;function JT(i,e,n,s){if(e===!0&&s===!0)throw new me(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function vm(i){if(ge.isDocumentKey(i))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ZT(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e()}function xh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ZT(i);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _m({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _m(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vw;switch(s.type){case"firstParty":return new Tw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ym.get(n);s&&(ie("ComponentProvider","Removing Datastore"),ym.delete(n),s.terminate())}(this),Promise.resolve()}}function e1(i,e,n,s={}){var a;const c=(i=xh(i,rf))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=Y_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(_)}i._authCredentials=new _w(new ig(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gu(this.firestore,e,this._query)}}class Hs{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hs(this.firestore,e,this._key)}}class Ns extends gu{constructor(e,n,s){super(e,n,fg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hs(this.firestore,null,new ge(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function t1(i,e,...n){if(i=sE(i),i instanceof rf){const s=Je.fromString(e,...n);return vm(s),new Ns(i,null,s)}{if(!(i instanceof Hs||i instanceof Ns))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return vm(s),new Ns(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Og(this,"async_queue_retry"),this.fu=()=>{const s=rh();s&&ie("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Pi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!$s(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=ef.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&_e()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Kg extends rf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Em,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Em(e),this._firestoreClient=void 0,await e}}}function n1(i,e){const n=typeof i=="object"?i:ow(),s=typeof i=="string"?i:"(default)",a=nw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=K_("firestore");c&&e1(a,...c)}return a}function r1(i){if(i._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||i1(i),i._firestoreClient}function i1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,_,w){return new Uw(m,y,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Qg(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new QT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(Rt.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eu(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}const a1=new RegExp("[~\\*/\\[\\]]");function l1(i,e,n){if(e.search(a1)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Gg(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function wm(i,e,n,s,a){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new me(te.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u1 extends Yg{data(){return super.data()}}function Xg(i,e){return typeof e=="string"?l1(i,e):e instanceof Gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h1{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ua(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new o1(c)}convertGeoPoint(e){return new s1(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);Ye(xg(s));const a=new na(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return a.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f1 extends Yg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Xg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class $l extends f1{data(e={}){return super.data(e)}}class d1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new $l(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new $l(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ml(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new $l(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ml(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:p1(m.type),doc:y,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class m1 extends h1{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hs(this.firestore,null,n)}}function g1(i){i=xh(i,gu);const e=xh(i.firestore,Kg),n=r1(e),s=new m1(e);return c1(i._query),XT(n,i._query).then(a=>new d1(e,s,i,a))}(function(e,n=!0){(function(a){js=a})(sw),Ql(new Jo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Kg(new Ew(s.getProvider("auth-internal")),new Iw(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(_.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ks(Fp,"4.7.5",e),ks(Fp,"4.7.5","esm2017")})();const y1={apiKey:"AIzaSyCdk8JEYy9KKhkfIgDXDfjgr5Zkz8CM1Fc",authDomain:"qr-id-e215d.firebaseapp.com",projectId:"qr-id-e215d",storageBucket:"qr-id-e215d.firebasestorage.app",messagingSenderId:"343938954427",appId:"1:343938954427:web:12ec74f347240b5830259e"},v1=Gm(y1),_1=n1(v1);function sh(i){return i[Math.floor(Math.random()*i.length)]}const E1="quotes",w1=async i=>{var e;try{const s=(await g1(t1(_1,E1))).docs.map(c=>c.data()),a=s.filter(c=>c.type===i);return((e=sh(a))==null?void 0:e.quote)||sh(s).quote||""}catch(n){return console.log("Error getting quote:",n),sh(T1).quote}},T1=[{quote:"I am worthy of all the good things that come my way"},{quote:"Every day, in every way, I am becoming better and better"},{quote:"I choose to focus on what I can control and let go of what I cant"},{quote:"Happiness is a choice, and today I choose to be happy"},{quote:"I am resilient, strong, and brave in the face of challenges"},{quote:"I am enough, just as I am, and I deserve love and respect"},{quote:"I have the power to create the life I desire"},{quote:"My thoughts shape my reality, and I choose to think positively"},{quote:"I am grateful for the abundance that flows into my life"},{quote:"I trust myself to make the right decisions for my growth and happiness"}],Tm=Symbol.for("constructDateFrom");function ia(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&Tm in i?i[Tm](e):i instanceof Date?new i.constructor(e):new Date(e)}function sa(i,e){return ia(i,i)}function S1(i,e,n){const s=sa(i);return isNaN(e)?ia(i,NaN):(e&&s.setDate(s.getDate()+e),s)}function I1(i,e,n){const s=sa(i);if(isNaN(e))return ia(i,NaN);if(!e)return s;const a=s.getDate(),c=ia(i,s.getTime());c.setMonth(s.getMonth()+e+1,0);const f=c.getDate();return a>=f?c:(s.setFullYear(c.getFullYear(),c.getMonth(),a),s)}function C1(i,e,n){const{years:s=0,months:a=0,weeks:c=0,days:f=0,hours:m=0,minutes:y=0,seconds:_=0}=e,w=sa(i),R=a||s?I1(w,a+s*12):w,P=f||c?S1(R,f+c*7):R,U=y+m*60,$=(_+U*60)*1e3;return ia(i,+P+$)}function R1(i,e){return+sa(i)>+sa(e)}function A1(i){return JSON.parse(localStorage.getItem(`quote:${i}`)||"{}")}function P1(i,e){const n=C1(new Date,{days:1});localStorage.setItem(`quote:${i}`,JSON.stringify({quote:e,expirationDate:n}))}const k1=({quoteType:i})=>{const[e,n]=q.useState("");return q.useEffect(()=>{const s=A1(i);s&&R1(new Date(s.expirationDate),new Date)?n(s.quote):w1(i).then(a=>{n(a),P1(i,a)})},[i]),rt.jsx(rt.Fragment,{children:!!e&&rt.jsx(U_,{text:e})})};var Jg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sm=Ri.createContext&&Ri.createContext(Jg),x1=["attr","size","title"];function D1(i,e){if(i==null)return{};var n=N1(i,e),s,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)s=c[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function N1(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},tu.apply(this,arguments)}function Im(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,s)}return n}function nu(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(n),!0).forEach(function(s){V1(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function V1(i,e,n){return e=L1(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function L1(i){var e=O1(i,"string");return typeof e=="symbol"?e:e+""}function O1(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Zg(i){return i&&i.map((e,n)=>Ri.createElement(e.tag,nu({key:n},e.attr),Zg(e.child)))}function M1(i){return e=>Ri.createElement(F1,tu({attr:nu({},i.attr)},e),Zg(i.child))}function F1(i){var e=n=>{var{attr:s,size:a,title:c}=i,f=D1(i,x1),m=a||n.size||"1em",y;return n.className&&(y=n.className),i.className&&(y=(y?y+" ":"")+i.className),Ri.createElement("svg",tu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:y,style:nu(nu({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Ri.createElement("title",null,c),i.children)};return Sm!==void 0?Ri.createElement(Sm.Consumer,null,n=>e(n)):e(Jg)}function U1(i){return M1({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Shopping_Basket"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19.44,7.937H17.3l-1.21-4.51a.508.508,0,0,0-.61-.35.489.489,0,0,0-.35.61l1.14,4.25H7.74l1.14-4.25a.5.5,0,0,0-.36-.61.513.513,0,0,0-.61.35l-1.2,4.51H4.56a1.5,1.5,0,0,0-.32,2.96l.74,7.77a2.492,2.492,0,0,0,2.49,2.27h9.06a2.492,2.492,0,0,0,2.49-2.27l.74-7.77a1.5,1.5,0,0,0-.32-2.96Zm-1.41,10.64a1.5,1.5,0,0,1-1.5,1.36H7.47a1.5,1.5,0,0,1-1.5-1.36l-.72-7.64h13.5Zm1.41-8.64H4.56a.508.508,0,0,1-.5-.5.5.5,0,0,1,.5-.5H19.44a.5.5,0,0,1,.5.5A.508.508,0,0,1,19.44,9.937Z"},child:[]},{tag:"path",attr:{d:"M9.5,17.432a.5.5,0,0,1-.5-.5v-3a.5.5,0,0,1,1,0v3A.5.5,0,0,1,9.5,17.432Z"},child:[]},{tag:"path",attr:{d:"M14.5,17.432a.5.5,0,0,1-.5-.5v-3a.5.5,0,0,1,1,0v3A.5.5,0,0,1,14.5,17.432Z"},child:[]}]}]}]})(i)}const z1="https://moxieimpact.com/pages/qr-apparel",B1={position:"fixed",bottom:"28px",right:"50%",transform:"translateX(50%)",zIndex:1e3,fontSize:"2em",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",textAlign:"center",textDecoration:"none",color:"white",textShadow:"0px 0px 5px rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",padding:"10px",width:"40px",height:"40px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.37)"},b1=()=>rt.jsx("a",{href:z1,target:"_blank",rel:"noreferrer",style:B1,children:rt.jsx(U1,{})}),Cm=()=>{const{type:i="affirmation"}=jv();return rt.jsxs(rt.Fragment,{children:[rt.jsx(k1,{quoteType:i}),rt.jsx(b1,{})]})},j1=()=>rt.jsx(A_,{children:rt.jsxs(r_,{children:[rt.jsx(ah,{path:"/",element:rt.jsx(Cm,{})}),rt.jsx(ah,{path:"/:type",element:rt.jsx(Cm,{})})]})});hv.createRoot(document.getElementById("root")).render(rt.jsx(q.StrictMode,{children:rt.jsx(j1,{})}));
